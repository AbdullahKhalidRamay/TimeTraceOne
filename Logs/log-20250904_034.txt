2025-09-04 12:49:07.940 +05:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-04 12:49:08.078 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-04 12:49:08.122 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-04 12:49:08.401 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:49:08.443 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Departments] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:49:08.474 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Projects] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:49:08.496 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Teams] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:49:08.531 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:49:08.565 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TimeEntries] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:49:08.611 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Notifications] AS [n]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:49:08.663 +05:00 [INF] Database seeded successfully
2025-09-04 12:49:08.726 +05:00 [INF] User profile is available. Using 'C:\Users\PMLS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 12:49:08.862 +05:00 [INF] Now listening on: http://localhost:5155
2025-09-04 12:49:08.869 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 12:49:08.873 +05:00 [INF] Hosting environment: Development
2025-09-04 12:49:08.879 +05:00 [INF] Content root path: D:\project\TimeTraceOne
2025-09-04 12:50:13.475 +05:00 [INF] Application is shutting down...
2025-09-04 12:50:57.239 +05:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-04 12:50:57.456 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-04 12:50:57.505 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-04 12:50:57.880 +05:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:50:57.928 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Departments] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:50:57.971 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Projects] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:50:58.018 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Teams] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:50:58.051 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:50:58.085 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TimeEntries] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:50:58.108 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Notifications] AS [n]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:50:58.140 +05:00 [INF] Database seeded successfully
2025-09-04 12:50:58.173 +05:00 [INF] User profile is available. Using 'C:\Users\PMLS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-04 12:50:58.321 +05:00 [INF] Now listening on: http://localhost:5155
2025-09-04 12:50:58.339 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-04 12:50:58.352 +05:00 [INF] Hosting environment: Development
2025-09-04 12:50:58.356 +05:00 [INF] Content root path: D:\project\TimeTraceOne
2025-09-04 12:51:03.946 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/users - application/json null
2025-09-04 12:51:04.119 +05:00 [INF] No cached response available for this request.
2025-09-04 12:51:04.235 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Owner|Manager)
2025-09-04 12:51:04.252 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-04 12:51:04.263 +05:00 [INF] HTTP GET /api/users responded 401 in 121.0560 ms
2025-09-04 12:51:04.268 +05:00 [INF] The response could not be cached for this request.
2025-09-04 12:51:04.278 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/users - 401 0 null 338.474ms
2025-09-04 12:51:14.321 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/auth/login - application/json 53
2025-09-04 12:51:14.380 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.AuthController.Login (TimeTraceOne)'
2025-09-04 12:51:14.424 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ApiResponse`1[TimeTraceOne.DTOs.LoginResponseDto]]] Login(TimeTraceOne.DTOs.LoginRequestDto) on controller TimeTraceOne.Controllers.AuthController (TimeTraceOne).
2025-09-04 12:51:14.670 +05:00 [INF] Executed DbCommand (53ms) [Parameters=[@__request_Email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0 AND [u].[IsActive] = CAST(1 AS bit)
2025-09-04 12:51:15.057 +05:00 [INF] User admin@timeflow.com logged in successfully
2025-09-04 12:51:15.078 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.LoginResponseDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:15.150 +05:00 [INF] Executed action TimeTraceOne.Controllers.AuthController.Login (TimeTraceOne) in 705.4463ms
2025-09-04 12:51:15.167 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.AuthController.Login (TimeTraceOne)'
2025-09-04 12:51:15.183 +05:00 [INF] HTTP POST /api/auth/login responded 200 in 822.1312 ms
2025-09-04 12:51:15.201 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/auth/login - 200 null application/json; charset=utf-8 880.0228ms
2025-09-04 12:51:23.500 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/auth/login - application/json 71
2025-09-04 12:51:23.533 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.AuthController.Login (TimeTraceOne)'
2025-09-04 12:51:23.546 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ApiResponse`1[TimeTraceOne.DTOs.LoginResponseDto]]] Login(TimeTraceOne.DTOs.LoginRequestDto) on controller TimeTraceOne.Controllers.AuthController (TimeTraceOne).
2025-09-04 12:51:23.669 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0 AND [u].[IsActive] = CAST(1 AS bit)
2025-09-04 12:51:23.899 +05:00 [INF] User admin@timeflow.com logged in successfully
2025-09-04 12:51:23.903 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.LoginResponseDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:23.915 +05:00 [INF] Executed action TimeTraceOne.Controllers.AuthController.Login (TimeTraceOne) in 360.4474ms
2025-09-04 12:51:23.922 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.AuthController.Login (TimeTraceOne)'
2025-09-04 12:51:23.936 +05:00 [INF] HTTP POST /api/auth/login responded 200 in 405.4363 ms
2025-09-04 12:51:23.954 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/auth/login - 200 null application/json; charset=utf-8 454.13ms
2025-09-04 12:51:23.987 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/auth/login - application/json 53
2025-09-04 12:51:24.004 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.AuthController.Login (TimeTraceOne)'
2025-09-04 12:51:24.021 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ApiResponse`1[TimeTraceOne.DTOs.LoginResponseDto]]] Login(TimeTraceOne.DTOs.LoginRequestDto) on controller TimeTraceOne.Controllers.AuthController (TimeTraceOne).
2025-09-04 12:51:24.058 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0 AND [u].[IsActive] = CAST(1 AS bit)
2025-09-04 12:51:24.277 +05:00 [INF] User admin@timeflow.com logged in successfully
2025-09-04 12:51:24.292 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.LoginResponseDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:24.307 +05:00 [INF] Executed action TimeTraceOne.Controllers.AuthController.Login (TimeTraceOne) in 258.8989ms
2025-09-04 12:51:24.323 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.AuthController.Login (TimeTraceOne)'
2025-09-04 12:51:24.338 +05:00 [INF] HTTP POST /api/auth/login responded 200 in 334.1934 ms
2025-09-04 12:51:24.356 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/auth/login - 200 null application/json; charset=utf-8 368.8605ms
2025-09-04 12:51:24.399 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/auth/me - null null
2025-09-04 12:51:24.470 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.AuthController.GetCurrentUser (TimeTraceOne)'
2025-09-04 12:51:24.483 +05:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ApiResponse`1[TimeTraceOne.DTOs.UserDto]]] GetCurrentUser() on controller TimeTraceOne.Controllers.AuthController (TimeTraceOne).
2025-09-04 12:51:24.537 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0
2025-09-04 12:51:24.552 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.UserDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:24.560 +05:00 [INF] Executed action TimeTraceOne.Controllers.AuthController.GetCurrentUser (TimeTraceOne) in 72.2937ms
2025-09-04 12:51:24.575 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.AuthController.GetCurrentUser (TimeTraceOne)'
2025-09-04 12:51:24.589 +05:00 [INF] HTTP GET /api/auth/me responded 200 in 168.9024 ms
2025-09-04 12:51:24.611 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/auth/me - 200 null application/json; charset=utf-8 211.7007ms
2025-09-04 12:51:24.646 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/auth/refresh - application/json 38
2025-09-04 12:51:24.675 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.AuthController.RefreshToken (TimeTraceOne)'
2025-09-04 12:51:24.700 +05:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ApiResponse`1[TimeTraceOne.DTOs.RefreshTokenResponseDto]]] RefreshToken(TimeTraceOne.DTOs.RefreshTokenRequestDto) on controller TimeTraceOne.Controllers.AuthController (TimeTraceOne).
2025-09-04 12:51:24.735 +05:00 [ERR] Error refreshing token
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX12741: JWT must have three segments (JWS) or five segments (JWE).
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at TimeTraceOne.Services.JwtService.GetPrincipalFromExpiredToken(String token) in D:\project\TimeTraceOne\Services\JwtService.cs:line 65
   at TimeTraceOne.Services.AuthService.RefreshTokenAsync(RefreshTokenRequestDto request) in D:\project\TimeTraceOne\Services\AuthService.cs:line 79
2025-09-04 12:51:24.788 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.RefreshTokenResponseDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:24.801 +05:00 [INF] Executed action TimeTraceOne.Controllers.AuthController.RefreshToken (TimeTraceOne) in 81.4996ms
2025-09-04 12:51:24.812 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.AuthController.RefreshToken (TimeTraceOne)'
2025-09-04 12:51:24.818 +05:00 [INF] HTTP POST /api/auth/refresh responded 400 in 144.1010 ms
2025-09-04 12:51:24.821 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/auth/refresh - 400 null application/json; charset=utf-8 174.8764ms
2025-09-04 12:51:24.835 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/auth/logout - application/json 37
2025-09-04 12:51:24.846 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.AuthController.Logout (TimeTraceOne)'
2025-09-04 12:51:24.855 +05:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ApiResponse`1[System.String]]] Logout(TimeTraceOne.DTOs.LogoutRequestDto) on controller TimeTraceOne.Controllers.AuthController (TimeTraceOne).
2025-09-04 12:51:24.871 +05:00 [INF] User logged out successfully
2025-09-04 12:51:24.880 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:24.897 +05:00 [INF] Executed action TimeTraceOne.Controllers.AuthController.Logout (TimeTraceOne) in 28.353ms
2025-09-04 12:51:24.912 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.AuthController.Logout (TimeTraceOne)'
2025-09-04 12:51:24.920 +05:00 [INF] HTTP POST /api/auth/logout responded 200 in 81.1758 ms
2025-09-04 12:51:24.933 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/auth/logout - 200 null application/json; charset=utf-8 98.001ms
2025-09-04 12:51:24.952 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/users - null null
2025-09-04 12:51:24.962 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.UsersController.GetUsers (TimeTraceOne)'
2025-09-04 12:51:24.988 +05:00 [INF] Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.PaginatedResponse`1[TimeTraceOne.DTOs.UserListDto]]] GetUsers(TimeTraceOne.DTOs.UserFilterDto) on controller TimeTraceOne.Controllers.UsersController (TimeTraceOne).
2025-09-04 12:51:25.077 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-09-04 12:51:25.199 +05:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AvailableHours], [t].[CreatedAt], [t].[Email], [t].[IsActive], [t].[JobTitle], [t].[Name], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t1].[TeamId], [t1].[UserId], [t1].[JoinedAt], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DepartmentId], [t1].[Description], [t1].[LeaderId], [t1].[Name], [t1].[UpdatedAt]
FROM (
    SELECT [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
    FROM [Users] AS [u]
    ORDER BY [u].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [t0].[TeamId], [t0].[UserId], [t0].[JoinedAt], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DepartmentId], [t2].[Description], [t2].[LeaderId], [t2].[Name], [t2].[UpdatedAt]
    FROM [TeamMembers] AS [t0]
    INNER JOIN [Teams] AS [t2] ON [t0].[TeamId] = [t2].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Name], [t].[Id], [t1].[TeamId], [t1].[UserId]
2025-09-04 12:51:25.269 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.PaginatedResponse`1[[TimeTraceOne.DTOs.UserListDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:25.304 +05:00 [INF] Executed action TimeTraceOne.Controllers.UsersController.GetUsers (TimeTraceOne) in 302.0708ms
2025-09-04 12:51:25.321 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.UsersController.GetUsers (TimeTraceOne)'
2025-09-04 12:51:25.334 +05:00 [INF] HTTP GET /api/users responded 200 in 375.1615 ms
2025-09-04 12:51:25.353 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/users - 200 null application/json; charset=utf-8 400.7498ms
2025-09-04 12:51:25.387 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/users/00000000-0000-0000-0000-000000000001 - null null
2025-09-04 12:51:25.416 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.UsersController.GetUser (TimeTraceOne)'
2025-09-04 12:51:25.432 +05:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.UserDetailDto]] GetUser(System.Guid) on controller TimeTraceOne.Controllers.UsersController (TimeTraceOne).
2025-09-04 12:51:25.515 +05:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AvailableHours], [t].[CreatedAt], [t].[Email], [t].[IsActive], [t].[JobTitle], [t].[Name], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t1].[TeamId], [t1].[UserId], [t1].[JoinedAt], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DepartmentId], [t1].[Description], [t1].[LeaderId], [t1].[Name], [t1].[UpdatedAt], [t1].[Id0], [t1].[CreatedAt0], [t1].[CreatedBy0], [t1].[DepartmentDescription], [t1].[IsBillable], [t1].[Name0], [t1].[Status], [t1].[UpdatedAt0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [t0].[TeamId], [t0].[UserId], [t0].[JoinedAt], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DepartmentId], [t2].[Description], [t2].[LeaderId], [t2].[Name], [t2].[UpdatedAt], [d].[Id] AS [Id0], [d].[CreatedAt] AS [CreatedAt0], [d].[CreatedBy] AS [CreatedBy0], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name] AS [Name0], [d].[Status], [d].[UpdatedAt] AS [UpdatedAt0]
    FROM [TeamMembers] AS [t0]
    INNER JOIN [Teams] AS [t2] ON [t0].[TeamId] = [t2].[Id]
    INNER JOIN [Departments] AS [d] ON [t2].[DepartmentId] = [d].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t1].[TeamId], [t1].[UserId], [t1].[Id]
2025-09-04 12:51:25.532 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.UserDetailDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:25.537 +05:00 [INF] Executed action TimeTraceOne.Controllers.UsersController.GetUser (TimeTraceOne) in 99.3822ms
2025-09-04 12:51:25.552 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.UsersController.GetUser (TimeTraceOne)'
2025-09-04 12:51:25.560 +05:00 [INF] HTTP GET /api/users/00000000-0000-0000-0000-000000000001 responded 200 in 145.3324 ms
2025-09-04 12:51:25.570 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/users/00000000-0000-0000-0000-000000000001 - 200 null application/json; charset=utf-8 183.2298ms
2025-09-04 12:51:25.588 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/users - application/json 138
2025-09-04 12:51:25.601 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.UsersController.CreateUser (TimeTraceOne)'
2025-09-04 12:51:25.623 +05:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.UserDetailDto]] CreateUser(TimeTraceOne.DTOs.CreateUserDto) on controller TimeTraceOne.Controllers.UsersController (TimeTraceOne).
2025-09-04 12:51:25.692 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-04 12:51:25.765 +05:00 [INF] Executed action TimeTraceOne.Controllers.UsersController.CreateUser (TimeTraceOne) in 115.7322ms
2025-09-04 12:51:25.778 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.UsersController.CreateUser (TimeTraceOne)'
2025-09-04 12:51:25.786 +05:00 [INF] HTTP POST /api/users responded 400 in 185.1264 ms
2025-09-04 12:51:25.801 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/users - 400 null application/problem+json; charset=utf-8 212.6557ms
2025-09-04 12:51:25.814 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5155/api/users/00000000-0000-0000-0000-000000000001 - application/json 55
2025-09-04 12:51:25.818 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.UsersController.UpdateUser (TimeTraceOne)'
2025-09-04 12:51:25.824 +05:00 [INF] Route matched with {action = "UpdateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.UserDetailDto]] UpdateUser(System.Guid, TimeTraceOne.DTOs.UpdateUserDto) on controller TimeTraceOne.Controllers.UsersController (TimeTraceOne).
2025-09-04 12:51:25.868 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AvailableHours], [t].[CreatedAt], [t].[Email], [t].[IsActive], [t].[JobTitle], [t].[Name], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t0].[TeamId], [t0].[UserId], [t0].[JoinedAt]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__id_0
) AS [t]
LEFT JOIN [TeamMembers] AS [t0] ON [t].[Id] = [t0].[UserId]
ORDER BY [t].[Id], [t0].[TeamId]
2025-09-04 12:51:25.980 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [JobTitle] = @p0, [Name] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-09-04 12:51:26.048 +05:00 [INF] Updated user "00000000-0000-0000-0000-000000000001"
2025-09-04 12:51:26.070 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AvailableHours], [t].[CreatedAt], [t].[Email], [t].[IsActive], [t].[JobTitle], [t].[Name], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t1].[TeamId], [t1].[UserId], [t1].[JoinedAt], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DepartmentId], [t1].[Description], [t1].[LeaderId], [t1].[Name], [t1].[UpdatedAt], [t1].[Id0], [t1].[CreatedAt0], [t1].[CreatedBy0], [t1].[DepartmentDescription], [t1].[IsBillable], [t1].[Name0], [t1].[Status], [t1].[UpdatedAt0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [t0].[TeamId], [t0].[UserId], [t0].[JoinedAt], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DepartmentId], [t2].[Description], [t2].[LeaderId], [t2].[Name], [t2].[UpdatedAt], [d].[Id] AS [Id0], [d].[CreatedAt] AS [CreatedAt0], [d].[CreatedBy] AS [CreatedBy0], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name] AS [Name0], [d].[Status], [d].[UpdatedAt] AS [UpdatedAt0]
    FROM [TeamMembers] AS [t0]
    INNER JOIN [Teams] AS [t2] ON [t0].[TeamId] = [t2].[Id]
    INNER JOIN [Departments] AS [d] ON [t2].[DepartmentId] = [d].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t1].[TeamId], [t1].[UserId], [t1].[Id]
2025-09-04 12:51:26.099 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.UserDetailDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:26.111 +05:00 [INF] Executed action TimeTraceOne.Controllers.UsersController.UpdateUser (TimeTraceOne) in 273.8924ms
2025-09-04 12:51:26.120 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.UsersController.UpdateUser (TimeTraceOne)'
2025-09-04 12:51:26.130 +05:00 [INF] HTTP PUT /api/users/00000000-0000-0000-0000-000000000001 responded 200 in 311.5708 ms
2025-09-04 12:51:26.138 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5155/api/users/00000000-0000-0000-0000-000000000001 - 200 null application/json; charset=utf-8 323.7524ms
2025-09-04 12:51:26.152 +05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5155/api/users/00000000-0000-0000-0000-000000000001 - null 0
2025-09-04 12:51:26.166 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.UsersController.DeleteUser (TimeTraceOne)'
2025-09-04 12:51:26.174 +05:00 [INF] Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteUser(System.Guid) on controller TimeTraceOne.Controllers.UsersController (TimeTraceOne).
2025-09-04 12:51:26.188 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0
2025-09-04 12:51:26.369 +05:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2025-09-04 12:51:26.417 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'TimeTraceOne.Data.TimeFlowDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Departments_Users_CreatedBy". The conflict occurred in database "TimeTraceOne", table "dbo.Departments", column 'CreatedBy'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:02fb798d-52ed-4c21-9dc8-b9caa6f96ef1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Departments_Users_CreatedBy". The conflict occurred in database "TimeTraceOne", table "dbo.Departments", column 'CreatedBy'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:02fb798d-52ed-4c21-9dc8-b9caa6f96ef1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-04 12:51:26.520 +05:00 [ERR] Error deleting user "00000000-0000-0000-0000-000000000001"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Departments_Users_CreatedBy". The conflict occurred in database "TimeTraceOne", table "dbo.Departments", column 'CreatedBy'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:02fb798d-52ed-4c21-9dc8-b9caa6f96ef1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TimeTraceOne.Services.UserService.DeleteUserAsync(Guid id) in D:\project\TimeTraceOne\Services\UserService.cs:line 175
   at TimeTraceOne.Controllers.UsersController.DeleteUser(Guid id) in D:\project\TimeTraceOne\Controllers\UsersController.cs:line 139
2025-09-04 12:51:26.598 +05:00 [INF] Executing ObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:26.604 +05:00 [INF] Executed action TimeTraceOne.Controllers.UsersController.DeleteUser (TimeTraceOne) in 420.9008ms
2025-09-04 12:51:26.616 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.UsersController.DeleteUser (TimeTraceOne)'
2025-09-04 12:51:26.618 +05:00 [ERR] HTTP DELETE /api/users/00000000-0000-0000-0000-000000000001 responded 500 in 452.1976 ms
2025-09-04 12:51:26.621 +05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5155/api/users/00000000-0000-0000-0000-000000000001 - 500 null application/json; charset=utf-8 468.2185ms
2025-09-04 12:51:26.634 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/users/00000000-0000-0000-0000-000000000001/statistics - null null
2025-09-04 12:51:26.638 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.UsersController.GetUserStatistics (TimeTraceOne)'
2025-09-04 12:51:26.651 +05:00 [INF] Route matched with {action = "GetUserStatistics", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.UserStatisticsDto]] GetUserStatistics(System.Guid, System.String, System.String) on controller TimeTraceOne.Controllers.UsersController (TimeTraceOne).
2025-09-04 12:51:26.681 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-09-04 12:51:26.700 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0
2025-09-04 12:51:26.715 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.UserStatisticsDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:26.721 +05:00 [INF] Executed action TimeTraceOne.Controllers.UsersController.GetUserStatistics (TimeTraceOne) in 55.3815ms
2025-09-04 12:51:26.735 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.UsersController.GetUserStatistics (TimeTraceOne)'
2025-09-04 12:51:26.743 +05:00 [INF] HTTP GET /api/users/00000000-0000-0000-0000-000000000001/statistics responded 200 in 105.5610 ms
2025-09-04 12:51:26.755 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/users/00000000-0000-0000-0000-000000000001/statistics - 200 null application/json; charset=utf-8 121.0296ms
2025-09-04 12:51:26.777 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/users/00000000-0000-0000-0000-000000000001/reports?startDate=2024-01-01&endDate=2024-01-31 - null null
2025-09-04 12:51:26.845 +05:00 [INF] HTTP GET /api/users/00000000-0000-0000-0000-000000000001/reports responded 404 in 3.1196 ms
2025-09-04 12:51:26.870 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/users/00000000-0000-0000-0000-000000000001/reports?startDate=2024-01-01&endDate=2024-01-31 - 404 0 null 92.8903ms
2025-09-04 12:51:26.916 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5155/api/users/00000000-0000-0000-0000-000000000001/reports, Response status code: 404
2025-09-04 12:51:26.940 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/users/00000000-0000-0000-0000-000000000001/projects - null null
2025-09-04 12:51:26.967 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.UsersController.GetUserProjects (TimeTraceOne)'
2025-09-04 12:51:26.981 +05:00 [INF] Route matched with {action = "GetUserProjects", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[TimeTraceOne.DTOs.ProjectSummaryDto]]] GetUserProjects(System.Guid) on controller TimeTraceOne.Controllers.UsersController (TimeTraceOne).
2025-09-04 12:51:27.031 +05:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[IsBillable], [p].[Status]
FROM [Projects] AS [p]
WHERE [p].[CreatedBy] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [TeamProjects] AS [t]
    INNER JOIN [Teams] AS [t0] ON [t].[TeamId] = [t0].[Id]
    WHERE [p].[Id] = [t].[ProjectId] AND EXISTS (
        SELECT 1
        FROM [TeamMembers] AS [t1]
        WHERE [t0].[Id] = [t1].[TeamId] AND [t1].[UserId] = @__userId_0))
2025-09-04 12:51:27.038 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Collections.Generic.List`1[[TimeTraceOne.DTOs.ProjectSummaryDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:27.057 +05:00 [INF] Executed action TimeTraceOne.Controllers.UsersController.GetUserProjects (TimeTraceOne) in 70.6829ms
2025-09-04 12:51:27.071 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.UsersController.GetUserProjects (TimeTraceOne)'
2025-09-04 12:51:27.083 +05:00 [INF] HTTP GET /api/users/00000000-0000-0000-0000-000000000001/projects responded 200 in 116.6077 ms
2025-09-04 12:51:27.094 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/users/00000000-0000-0000-0000-000000000001/projects - 200 null application/json; charset=utf-8 154.4255ms
2025-09-04 12:51:27.114 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/time-entries - null null
2025-09-04 12:51:27.141 +05:00 [INF] HTTP GET /api/time-entries responded 404 in 6.9684 ms
2025-09-04 12:51:27.162 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/time-entries - 404 0 null 48.0695ms
2025-09-04 12:51:27.189 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5155/api/time-entries, Response status code: 404
2025-09-04 12:51:27.204 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/time-entries/00000000-0000-0000-0000-000000000012 - null null
2025-09-04 12:51:27.221 +05:00 [INF] HTTP GET /api/time-entries/00000000-0000-0000-0000-000000000012 responded 404 in 0.2614 ms
2025-09-04 12:51:27.235 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/time-entries/00000000-0000-0000-0000-000000000012 - 404 0 null 31.1246ms
2025-09-04 12:51:27.259 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5155/api/time-entries/00000000-0000-0000-0000-000000000012, Response status code: 404
2025-09-04 12:51:27.335 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/time-entries - application/json 257
2025-09-04 12:51:27.361 +05:00 [INF] HTTP POST /api/time-entries responded 404 in 2.0778 ms
2025-09-04 12:51:27.369 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/time-entries - 404 0 null 33.6085ms
2025-09-04 12:51:27.382 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5155/api/time-entries, Response status code: 404
2025-09-04 12:51:27.385 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5155/api/time-entries/00000000-0000-0000-0000-000000000012 - application/json 196
2025-09-04 12:51:27.394 +05:00 [INF] HTTP PUT /api/time-entries/00000000-0000-0000-0000-000000000012 responded 404 in 0.4072 ms
2025-09-04 12:51:27.411 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5155/api/time-entries/00000000-0000-0000-0000-000000000012 - 404 0 null 25.3839ms
2025-09-04 12:51:27.438 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PUT http://localhost:5155/api/time-entries/00000000-0000-0000-0000-000000000012, Response status code: 404
2025-09-04 12:51:27.464 +05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5155/api/time-entries/00000000-0000-0000-0000-000000000012 - null 0
2025-09-04 12:51:27.499 +05:00 [INF] HTTP DELETE /api/time-entries/00000000-0000-0000-0000-000000000012 responded 404 in 2.0167 ms
2025-09-04 12:51:27.521 +05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5155/api/time-entries/00000000-0000-0000-0000-000000000012 - 404 0 null 57.0336ms
2025-09-04 12:51:27.560 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: DELETE http://localhost:5155/api/time-entries/00000000-0000-0000-0000-000000000012, Response status code: 404
2025-09-04 12:51:27.580 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/time-entries/date/2024-01-01 - null null
2025-09-04 12:51:27.605 +05:00 [INF] HTTP GET /api/time-entries/date/2024-01-01 responded 404 in 0.3385 ms
2025-09-04 12:51:27.617 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/time-entries/date/2024-01-01 - 404 0 null 36.5431ms
2025-09-04 12:51:27.627 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5155/api/time-entries/date/2024-01-01, Response status code: 404
2025-09-04 12:51:27.633 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/time-entries/user/00000000-0000-0000-0000-000000000004 - null null
2025-09-04 12:51:27.637 +05:00 [INF] HTTP GET /api/time-entries/user/00000000-0000-0000-0000-000000000004 responded 404 in 0.2550 ms
2025-09-04 12:51:27.648 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/time-entries/user/00000000-0000-0000-0000-000000000004 - 404 0 null 13.9252ms
2025-09-04 12:51:27.655 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5155/api/time-entries/user/00000000-0000-0000-0000-000000000004, Response status code: 404
2025-09-04 12:51:27.670 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/time-entries/project/00000000-0000-0000-0000-000000000008 - null null
2025-09-04 12:51:27.685 +05:00 [INF] HTTP GET /api/time-entries/project/00000000-0000-0000-0000-000000000008 responded 404 in 0.2772 ms
2025-09-04 12:51:27.699 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/time-entries/project/00000000-0000-0000-0000-000000000008 - 404 0 null 28.9523ms
2025-09-04 12:51:27.720 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5155/api/time-entries/project/00000000-0000-0000-0000-000000000008, Response status code: 404
2025-09-04 12:51:27.737 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/time-entries/range?startDate=2024-01-01&endDate=2024-01-31 - null null
2025-09-04 12:51:27.753 +05:00 [INF] HTTP GET /api/time-entries/range responded 404 in 0.2584 ms
2025-09-04 12:51:27.766 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/time-entries/range?startDate=2024-01-01&endDate=2024-01-31 - 404 0 null 28.7641ms
2025-09-04 12:51:27.786 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5155/api/time-entries/range, Response status code: 404
2025-09-04 12:51:27.799 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/time-entries/status/2024-01-01 - null null
2025-09-04 12:51:27.818 +05:00 [INF] HTTP GET /api/time-entries/status/2024-01-01 responded 404 in 0.3151 ms
2025-09-04 12:51:27.830 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/time-entries/status/2024-01-01 - 404 0 null 30.3534ms
2025-09-04 12:51:27.853 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5155/api/time-entries/status/2024-01-01, Response status code: 404
2025-09-04 12:51:27.869 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/time-entries/search?query=development - null null
2025-09-04 12:51:27.886 +05:00 [INF] HTTP GET /api/time-entries/search responded 404 in 0.2635 ms
2025-09-04 12:51:27.898 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/time-entries/search?query=development - 404 0 null 29.3234ms
2025-09-04 12:51:27.920 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5155/api/time-entries/search, Response status code: 404
2025-09-04 12:51:27.935 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/time-entries/filter?startDate=2024-01-01&endDate=2024-01-31&projectId=00000000-0000-0000-0000-000000000008 - null null
2025-09-04 12:51:27.953 +05:00 [INF] HTTP GET /api/time-entries/filter responded 404 in 0.5094 ms
2025-09-04 12:51:27.971 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/time-entries/filter?startDate=2024-01-01&endDate=2024-01-31&projectId=00000000-0000-0000-0000-000000000008 - 404 0 null 36.1144ms
2025-09-04 12:51:28.001 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5155/api/time-entries/filter, Response status code: 404
2025-09-04 12:51:28.020 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5155/api/time-entries/weekly/2024-01-01 - application/json 139
2025-09-04 12:51:28.044 +05:00 [INF] HTTP PUT /api/time-entries/weekly/2024-01-01 responded 404 in 2.6568 ms
2025-09-04 12:51:28.058 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5155/api/time-entries/weekly/2024-01-01 - 404 0 null 38.2695ms
2025-09-04 12:51:28.093 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PUT http://localhost:5155/api/time-entries/weekly/2024-01-01, Response status code: 404
2025-09-04 12:51:28.117 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/projects - null null
2025-09-04 12:51:28.134 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProjectsController.GetProjects (TimeTraceOne)'
2025-09-04 12:51:28.149 +05:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.PaginatedResponse`1[TimeTraceOne.DTOs.ProjectDto]]] GetProjects(TimeTraceOne.DTOs.ProjectFilterDto) on controller TimeTraceOne.Controllers.ProjectsController (TimeTraceOne).
2025-09-04 12:51:28.184 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Projects] AS [p]
2025-09-04 12:51:28.238 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ClientEmail], [t].[ClientName], [t].[CreatedAt], [t].[CreatedBy], [t].[Description], [t].[IsBillable], [t].[Name], [t].[ProjectType], [t].[Status], [t].[UpdatedAt], [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [t1].[TeamId], [t1].[ProjectId], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DepartmentId], [t1].[Description], [t1].[LeaderId], [t1].[Name], [t1].[UpdatedAt], [t1].[Id0], [t1].[CreatedAt0], [t1].[CreatedBy0], [t1].[DepartmentDescription], [t1].[IsBillable], [t1].[Name0], [t1].[Status], [t1].[UpdatedAt0]
FROM (
    SELECT [p].[Id], [p].[ClientEmail], [p].[ClientName], [p].[CreatedAt], [p].[CreatedBy], [p].[Description], [p].[IsBillable], [p].[Name], [p].[ProjectType], [p].[Status], [p].[UpdatedAt]
    FROM [Projects] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[CreatedBy] = [u].[Id]
LEFT JOIN (
    SELECT [t0].[TeamId], [t0].[ProjectId], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DepartmentId], [t2].[Description], [t2].[LeaderId], [t2].[Name], [t2].[UpdatedAt], [d].[Id] AS [Id0], [d].[CreatedAt] AS [CreatedAt0], [d].[CreatedBy] AS [CreatedBy0], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name] AS [Name0], [d].[Status], [d].[UpdatedAt] AS [UpdatedAt0]
    FROM [TeamProjects] AS [t0]
    INNER JOIN [Teams] AS [t2] ON [t0].[TeamId] = [t2].[Id]
    INNER JOIN [Departments] AS [d] ON [t2].[DepartmentId] = [d].[Id]
) AS [t1] ON [t].[Id] = [t1].[ProjectId]
ORDER BY [t].[Name], [t].[Id], [u].[Id], [t1].[TeamId], [t1].[ProjectId], [t1].[Id]
2025-09-04 12:51:28.280 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.PaginatedResponse`1[[TimeTraceOne.DTOs.ProjectDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:28.299 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProjectsController.GetProjects (TimeTraceOne) in 139.3373ms
2025-09-04 12:51:28.314 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProjectsController.GetProjects (TimeTraceOne)'
2025-09-04 12:51:28.327 +05:00 [INF] HTTP GET /api/projects responded 200 in 193.3721 ms
2025-09-04 12:51:28.348 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/projects - 200 null application/json; charset=utf-8 231.4765ms
2025-09-04 12:51:28.436 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008 - null null
2025-09-04 12:51:28.450 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProjectsController.GetProject (TimeTraceOne)'
2025-09-04 12:51:28.454 +05:00 [INF] Route matched with {action = "GetProject", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ProjectDto]] GetProject(System.Guid) on controller TimeTraceOne.Controllers.ProjectsController (TimeTraceOne).
2025-09-04 12:51:28.504 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ClientEmail], [t].[ClientName], [t].[CreatedAt], [t].[CreatedBy], [t].[Description], [t].[IsBillable], [t].[Name], [t].[ProjectType], [t].[Status], [t].[UpdatedAt], [t].[Id0], [t].[AvailableHours], [t].[CreatedAt0], [t].[Email], [t].[IsActive], [t].[JobTitle], [t].[Name0], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt0], [t1].[TeamId], [t1].[ProjectId], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DepartmentId], [t1].[Description], [t1].[LeaderId], [t1].[Name], [t1].[UpdatedAt], [t1].[Id0], [t1].[CreatedAt0], [t1].[CreatedBy0], [t1].[DepartmentDescription], [t1].[IsBillable], [t1].[Name0], [t1].[Status], [t1].[UpdatedAt0]
FROM (
    SELECT TOP(1) [p].[Id], [p].[ClientEmail], [p].[ClientName], [p].[CreatedAt], [p].[CreatedBy], [p].[Description], [p].[IsBillable], [p].[Name], [p].[ProjectType], [p].[Status], [p].[UpdatedAt], [u].[Id] AS [Id0], [u].[AvailableHours], [u].[CreatedAt] AS [CreatedAt0], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt] AS [UpdatedAt0]
    FROM [Projects] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[CreatedBy] = [u].[Id]
    WHERE [p].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [t0].[TeamId], [t0].[ProjectId], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DepartmentId], [t2].[Description], [t2].[LeaderId], [t2].[Name], [t2].[UpdatedAt], [d].[Id] AS [Id0], [d].[CreatedAt] AS [CreatedAt0], [d].[CreatedBy] AS [CreatedBy0], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name] AS [Name0], [d].[Status], [d].[UpdatedAt] AS [UpdatedAt0]
    FROM [TeamProjects] AS [t0]
    INNER JOIN [Teams] AS [t2] ON [t0].[TeamId] = [t2].[Id]
    INNER JOIN [Departments] AS [d] ON [t2].[DepartmentId] = [d].[Id]
) AS [t1] ON [t].[Id] = [t1].[ProjectId]
ORDER BY [t].[Id], [t].[Id0], [t1].[TeamId], [t1].[ProjectId], [t1].[Id]
2025-09-04 12:51:28.528 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.ProjectDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:28.535 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProjectsController.GetProject (TimeTraceOne) in 67.9253ms
2025-09-04 12:51:28.547 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProjectsController.GetProject (TimeTraceOne)'
2025-09-04 12:51:28.556 +05:00 [INF] HTTP GET /api/projects/00000000-0000-0000-0000-000000000008 responded 200 in 106.2336 ms
2025-09-04 12:51:28.570 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008 - 200 null application/json; charset=utf-8 133.9172ms
2025-09-04 12:51:28.650 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/projects - application/json 183
2025-09-04 12:51:28.679 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProjectsController.CreateProject (TimeTraceOne)'
2025-09-04 12:51:28.701 +05:00 [INF] Route matched with {action = "CreateProject", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ProjectDto]] CreateProject(TimeTraceOne.DTOs.CreateProjectDto) on controller TimeTraceOne.Controllers.ProjectsController (TimeTraceOne).
2025-09-04 12:51:28.735 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-04 12:51:28.749 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProjectsController.CreateProject (TimeTraceOne) in 26.8259ms
2025-09-04 12:51:28.765 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProjectsController.CreateProject (TimeTraceOne)'
2025-09-04 12:51:28.773 +05:00 [INF] HTTP POST /api/projects responded 400 in 95.5970 ms
2025-09-04 12:51:28.782 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/projects - 400 null application/problem+json; charset=utf-8 132.4352ms
2025-09-04 12:51:28.791 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008 - application/json 66
2025-09-04 12:51:28.805 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProjectsController.UpdateProject (TimeTraceOne)'
2025-09-04 12:51:28.817 +05:00 [INF] Route matched with {action = "UpdateProject", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ProjectDto]] UpdateProject(System.Guid, TimeTraceOne.DTOs.UpdateProjectDto) on controller TimeTraceOne.Controllers.ProjectsController (TimeTraceOne).
2025-09-04 12:51:28.849 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ClientEmail], [t].[ClientName], [t].[CreatedAt], [t].[CreatedBy], [t].[Description], [t].[IsBillable], [t].[Name], [t].[ProjectType], [t].[Status], [t].[UpdatedAt], [t0].[TeamId], [t0].[ProjectId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[ClientEmail], [p].[ClientName], [p].[CreatedAt], [p].[CreatedBy], [p].[Description], [p].[IsBillable], [p].[Name], [p].[ProjectType], [p].[Status], [p].[UpdatedAt]
    FROM [Projects] AS [p]
    WHERE [p].[Id] = @__id_0
) AS [t]
LEFT JOIN [TeamProjects] AS [t0] ON [t].[Id] = [t0].[ProjectId]
ORDER BY [t].[Id], [t0].[TeamId]
2025-09-04 12:51:28.932 +05:00 [INF] Executed DbCommand (63ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 2000), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Projects] SET [Description] = @p0, [Name] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-09-04 12:51:28.963 +05:00 [INF] Updated project "00000000-0000-0000-0000-000000000008"
2025-09-04 12:51:28.988 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ClientEmail], [t].[ClientName], [t].[CreatedAt], [t].[CreatedBy], [t].[Description], [t].[IsBillable], [t].[Name], [t].[ProjectType], [t].[Status], [t].[UpdatedAt], [t].[Id0], [t].[AvailableHours], [t].[CreatedAt0], [t].[Email], [t].[IsActive], [t].[JobTitle], [t].[Name0], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt0], [t1].[TeamId], [t1].[ProjectId], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DepartmentId], [t1].[Description], [t1].[LeaderId], [t1].[Name], [t1].[UpdatedAt], [t1].[Id0], [t1].[CreatedAt0], [t1].[CreatedBy0], [t1].[DepartmentDescription], [t1].[IsBillable], [t1].[Name0], [t1].[Status], [t1].[UpdatedAt0]
FROM (
    SELECT TOP(1) [p].[Id], [p].[ClientEmail], [p].[ClientName], [p].[CreatedAt], [p].[CreatedBy], [p].[Description], [p].[IsBillable], [p].[Name], [p].[ProjectType], [p].[Status], [p].[UpdatedAt], [u].[Id] AS [Id0], [u].[AvailableHours], [u].[CreatedAt] AS [CreatedAt0], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt] AS [UpdatedAt0]
    FROM [Projects] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[CreatedBy] = [u].[Id]
    WHERE [p].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [t0].[TeamId], [t0].[ProjectId], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DepartmentId], [t2].[Description], [t2].[LeaderId], [t2].[Name], [t2].[UpdatedAt], [d].[Id] AS [Id0], [d].[CreatedAt] AS [CreatedAt0], [d].[CreatedBy] AS [CreatedBy0], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name] AS [Name0], [d].[Status], [d].[UpdatedAt] AS [UpdatedAt0]
    FROM [TeamProjects] AS [t0]
    INNER JOIN [Teams] AS [t2] ON [t0].[TeamId] = [t2].[Id]
    INNER JOIN [Departments] AS [d] ON [t2].[DepartmentId] = [d].[Id]
) AS [t1] ON [t].[Id] = [t1].[ProjectId]
ORDER BY [t].[Id], [t].[Id0], [t1].[TeamId], [t1].[ProjectId], [t1].[Id]
2025-09-04 12:51:29.031 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.ProjectDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:29.048 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProjectsController.UpdateProject (TimeTraceOne) in 227.6666ms
2025-09-04 12:51:29.068 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProjectsController.UpdateProject (TimeTraceOne)'
2025-09-04 12:51:29.078 +05:00 [INF] HTTP PUT /api/projects/00000000-0000-0000-0000-000000000008 responded 200 in 273.9959 ms
2025-09-04 12:51:29.092 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008 - 200 null application/json; charset=utf-8 300.5918ms
2025-09-04 12:51:29.116 +05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008 - null 0
2025-09-04 12:51:29.128 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProjectsController.DeleteProject (TimeTraceOne)'
2025-09-04 12:51:29.136 +05:00 [INF] Route matched with {action = "DeleteProject", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteProject(System.Guid) on controller TimeTraceOne.Controllers.ProjectsController (TimeTraceOne).
2025-09-04 12:51:29.168 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[ClientEmail], [p].[ClientName], [p].[CreatedAt], [p].[CreatedBy], [p].[Description], [p].[IsBillable], [p].[Name], [p].[ProjectType], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
WHERE [p].[Id] = @__get_Item_0
2025-09-04 12:51:29.199 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Projects]
OUTPUT 1
WHERE [Id] = @p0;
2025-09-04 12:51:29.209 +05:00 [INF] Deleted project "00000000-0000-0000-0000-000000000008"
2025-09-04 12:51:29.217 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:29.222 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProjectsController.DeleteProject (TimeTraceOne) in 80.4014ms
2025-09-04 12:51:29.236 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProjectsController.DeleteProject (TimeTraceOne)'
2025-09-04 12:51:29.242 +05:00 [INF] HTTP DELETE /api/projects/00000000-0000-0000-0000-000000000008 responded 200 in 116.4058 ms
2025-09-04 12:51:29.255 +05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008 - 200 null application/json; charset=utf-8 138.6836ms
2025-09-04 12:51:29.272 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008/statistics - null null
2025-09-04 12:51:29.295 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProjectsController.GetProjectStatistics (TimeTraceOne)'
2025-09-04 12:51:29.318 +05:00 [INF] Route matched with {action = "GetProjectStatistics", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ProjectStatisticsDto]] GetProjectStatistics(System.Guid) on controller TimeTraceOne.Controllers.ProjectsController (TimeTraceOne).
2025-09-04 12:51:29.364 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[ClientEmail], [p].[ClientName], [p].[CreatedAt], [p].[CreatedBy], [p].[Description], [p].[IsBillable], [p].[Name], [p].[ProjectType], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
WHERE [p].[Id] = @__get_Item_0
2025-09-04 12:51:29.385 +05:00 [ERR] Error getting project statistics for "00000000-0000-0000-0000-000000000008"
System.InvalidOperationException: Project not found
   at TimeTraceOne.Services.ProjectService.GetProjectStatisticsAsync(Guid id) in D:\project\TimeTraceOne\Services\ProjectService.cs:line 230
   at TimeTraceOne.Controllers.ProjectsController.GetProjectStatistics(Guid id) in D:\project\TimeTraceOne\Controllers\ProjectsController.cs:line 169
2025-09-04 12:51:29.465 +05:00 [INF] Executing ObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:29.474 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProjectsController.GetProjectStatistics (TimeTraceOne) in 135.2946ms
2025-09-04 12:51:29.483 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProjectsController.GetProjectStatistics (TimeTraceOne)'
2025-09-04 12:51:29.486 +05:00 [ERR] HTTP GET /api/projects/00000000-0000-0000-0000-000000000008/statistics responded 500 in 193.0272 ms
2025-09-04 12:51:29.489 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008/statistics - 500 null application/json; charset=utf-8 216.4432ms
2025-09-04 12:51:29.504 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008/team - null null
2025-09-04 12:51:29.528 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProjectsController.GetProjectTeam (TimeTraceOne)'
2025-09-04 12:51:29.550 +05:00 [INF] Route matched with {action = "GetProjectTeam", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[TimeTraceOne.DTOs.TeamMemberDto]]] GetProjectTeam(System.Guid) on controller TimeTraceOne.Controllers.ProjectsController (TimeTraceOne).
2025-09-04 12:51:29.590 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[UserId], [u].[Name] AS [UserName], [t1].[TeamId], [t2].[Name] AS [TeamName], [t1].[JoinedAt]
FROM [TeamProjects] AS [t]
INNER JOIN [Teams] AS [t0] ON [t].[TeamId] = [t0].[Id]
INNER JOIN [TeamMembers] AS [t1] ON [t0].[Id] = [t1].[TeamId]
INNER JOIN [Users] AS [u] ON [t1].[UserId] = [u].[Id]
INNER JOIN [Teams] AS [t2] ON [t1].[TeamId] = [t2].[Id]
WHERE [t].[ProjectId] = @__id_0
2025-09-04 12:51:29.605 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Collections.Generic.List`1[[TimeTraceOne.DTOs.TeamMemberDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:29.618 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProjectsController.GetProjectTeam (TimeTraceOne) in 50.1184ms
2025-09-04 12:51:29.627 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProjectsController.GetProjectTeam (TimeTraceOne)'
2025-09-04 12:51:29.635 +05:00 [INF] HTTP GET /api/projects/00000000-0000-0000-0000-000000000008/team responded 200 in 109.0002 ms
2025-09-04 12:51:29.649 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008/team - 200 null application/json; charset=utf-8 145.3369ms
2025-09-04 12:51:29.688 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008/teams - application/json 49
2025-09-04 12:51:29.718 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProjectsController.AddTeamToProject (TimeTraceOne)'
2025-09-04 12:51:29.736 +05:00 [INF] Route matched with {action = "AddTeamToProject", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddTeamToProject(System.Guid, TimeTraceOne.DTOs.AddTeamToProjectDto) on controller TimeTraceOne.Controllers.ProjectsController (TimeTraceOne).
2025-09-04 12:51:29.818 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[ClientEmail], [p].[ClientName], [p].[CreatedAt], [p].[CreatedBy], [p].[Description], [p].[IsBillable], [p].[Name], [p].[ProjectType], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
WHERE [p].[Id] = @__get_Item_0
2025-09-04 12:51:29.834 +05:00 [ERR] Error adding team "00000000-0000-0000-0000-000000000010" to project "00000000-0000-0000-0000-000000000008"
System.InvalidOperationException: Project not found
   at TimeTraceOne.Services.ProjectService.AddTeamToProjectAsync(Guid projectId, Guid teamId) in D:\project\TimeTraceOne\Services\ProjectService.cs:line 274
   at TimeTraceOne.Controllers.ProjectsController.AddTeamToProject(Guid id, AddTeamToProjectDto dto) in D:\project\TimeTraceOne\Controllers\ProjectsController.cs:line 206
2025-09-04 12:51:29.852 +05:00 [INF] Executing ObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:29.865 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProjectsController.AddTeamToProject (TimeTraceOne) in 111.9254ms
2025-09-04 12:51:29.878 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProjectsController.AddTeamToProject (TimeTraceOne)'
2025-09-04 12:51:29.889 +05:00 [ERR] HTTP POST /api/projects/00000000-0000-0000-0000-000000000008/teams responded 500 in 171.8653 ms
2025-09-04 12:51:29.915 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008/teams - 500 null application/json; charset=utf-8 226.5732ms
2025-09-04 12:51:29.944 +05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008/teams/00000000-0000-0000-0000-000000000010 - null 0
2025-09-04 12:51:29.968 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProjectsController.RemoveTeamFromProject (TimeTraceOne)'
2025-09-04 12:51:29.985 +05:00 [INF] Route matched with {action = "RemoveTeamFromProject", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RemoveTeamFromProject(System.Guid, System.Guid) on controller TimeTraceOne.Controllers.ProjectsController (TimeTraceOne).
2025-09-04 12:51:30.021 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__projectId_0='?' (DbType = Guid), @__teamId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[ProjectId]
FROM [TeamProjects] AS [t]
WHERE [t].[ProjectId] = @__projectId_0 AND [t].[TeamId] = @__teamId_1
2025-09-04 12:51:30.034 +05:00 [ERR] Error removing team "00000000-0000-0000-0000-000000000010" from project "00000000-0000-0000-0000-000000000008"
System.InvalidOperationException: Team is not associated with this project
   at TimeTraceOne.Services.ProjectService.RemoveTeamFromProjectAsync(Guid projectId, Guid teamId) in D:\project\TimeTraceOne\Services\ProjectService.cs:line 304
   at TimeTraceOne.Controllers.ProjectsController.RemoveTeamFromProject(Guid id, Guid teamId) in D:\project\TimeTraceOne\Controllers\ProjectsController.cs:line 225
2025-09-04 12:51:30.049 +05:00 [INF] Executing ObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:30.055 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProjectsController.RemoveTeamFromProject (TimeTraceOne) in 53.8942ms
2025-09-04 12:51:30.066 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProjectsController.RemoveTeamFromProject (TimeTraceOne)'
2025-09-04 12:51:30.074 +05:00 [ERR] HTTP DELETE /api/projects/00000000-0000-0000-0000-000000000008/teams/00000000-0000-0000-0000-000000000010 responded 500 in 106.6032 ms
2025-09-04 12:51:30.091 +05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5155/api/projects/00000000-0000-0000-0000-000000000008/teams/00000000-0000-0000-0000-000000000010 - 500 null application/json; charset=utf-8 146.5081ms
2025-09-04 12:51:30.117 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/products - null null
2025-09-04 12:51:30.134 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProductsController.GetProducts (TimeTraceOne)'
2025-09-04 12:51:30.145 +05:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.PaginatedResponse`1[TimeTraceOne.DTOs.ProductDto]]] GetProducts(TimeTraceOne.DTOs.ProductFilterDto) on controller TimeTraceOne.Controllers.ProductsController (TimeTraceOne).
2025-09-04 12:51:30.234 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-09-04 12:51:30.273 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[IsBillable], [t].[Name], [t].[ProductDescription], [t].[Status], [t].[UpdatedAt], [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [t1].[TeamId], [t1].[ProductId], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DepartmentId], [t1].[Description], [t1].[LeaderId], [t1].[Name], [t1].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[IsBillable], [p].[Name], [p].[ProductDescription], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[CreatedBy] = [u].[Id]
LEFT JOIN (
    SELECT [t0].[TeamId], [t0].[ProductId], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DepartmentId], [t2].[Description], [t2].[LeaderId], [t2].[Name], [t2].[UpdatedAt]
    FROM [TeamProducts] AS [t0]
    INNER JOIN [Teams] AS [t2] ON [t0].[TeamId] = [t2].[Id]
) AS [t1] ON [t].[Id] = [t1].[ProductId]
ORDER BY [t].[Name], [t].[Id], [u].[Id], [t1].[TeamId], [t1].[ProductId]
2025-09-04 12:51:30.353 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.PaginatedResponse`1[[TimeTraceOne.DTOs.ProductDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:30.371 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProductsController.GetProducts (TimeTraceOne) in 216.7652ms
2025-09-04 12:51:30.385 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProductsController.GetProducts (TimeTraceOne)'
2025-09-04 12:51:30.401 +05:00 [INF] HTTP GET /api/products responded 200 in 267.3320 ms
2025-09-04 12:51:30.428 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/products - 200 null application/json; charset=utf-8 310.4581ms
2025-09-04 12:51:30.453 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/products/00000000-0000-0000-0000-000000000011 - null null
2025-09-04 12:51:30.481 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProductsController.GetProduct (TimeTraceOne)'
2025-09-04 12:51:30.497 +05:00 [INF] Route matched with {action = "GetProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ProductDto]] GetProduct(System.Guid) on controller TimeTraceOne.Controllers.ProductsController (TimeTraceOne).
2025-09-04 12:51:30.585 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[IsBillable], [t].[Name], [t].[ProductDescription], [t].[Status], [t].[UpdatedAt], [t].[Id0], [t].[AvailableHours], [t].[CreatedAt0], [t].[Email], [t].[IsActive], [t].[JobTitle], [t].[Name0], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt0], [t1].[TeamId], [t1].[ProductId], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DepartmentId], [t1].[Description], [t1].[LeaderId], [t1].[Name], [t1].[UpdatedAt]
FROM (
    SELECT TOP(1) [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[IsBillable], [p].[Name], [p].[ProductDescription], [p].[Status], [p].[UpdatedAt], [u].[Id] AS [Id0], [u].[AvailableHours], [u].[CreatedAt] AS [CreatedAt0], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt] AS [UpdatedAt0]
    FROM [Products] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[CreatedBy] = [u].[Id]
    WHERE [p].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [t0].[TeamId], [t0].[ProductId], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DepartmentId], [t2].[Description], [t2].[LeaderId], [t2].[Name], [t2].[UpdatedAt]
    FROM [TeamProducts] AS [t0]
    INNER JOIN [Teams] AS [t2] ON [t0].[TeamId] = [t2].[Id]
) AS [t1] ON [t].[Id] = [t1].[ProductId]
ORDER BY [t].[Id], [t].[Id0], [t1].[TeamId], [t1].[ProductId]
2025-09-04 12:51:30.605 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.ProductDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:30.619 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProductsController.GetProduct (TimeTraceOne) in 113.4855ms
2025-09-04 12:51:30.628 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProductsController.GetProduct (TimeTraceOne)'
2025-09-04 12:51:30.636 +05:00 [INF] HTTP GET /api/products/00000000-0000-0000-0000-000000000011 responded 200 in 156.7024 ms
2025-09-04 12:51:30.651 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/products/00000000-0000-0000-0000-000000000011 - 200 null application/json; charset=utf-8 196.2073ms
2025-09-04 12:51:30.676 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/products - application/json 81
2025-09-04 12:51:30.696 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProductsController.CreateProduct (TimeTraceOne)'
2025-09-04 12:51:30.708 +05:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ProductDto]] CreateProduct(TimeTraceOne.DTOs.CreateProductDto) on controller TimeTraceOne.Controllers.ProductsController (TimeTraceOne).
2025-09-04 12:51:30.772 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 2000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [CreatedAt], [CreatedBy], [IsBillable], [Name], [ProductDescription], [Status], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-09-04 12:51:30.789 +05:00 [INF] Created product "871e9cd3-17d1-4d63-8b3b-153a498d990a" with name Test Product 5
2025-09-04 12:51:30.820 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[IsBillable], [t].[Name], [t].[ProductDescription], [t].[Status], [t].[UpdatedAt], [t].[Id0], [t].[AvailableHours], [t].[CreatedAt0], [t].[Email], [t].[IsActive], [t].[JobTitle], [t].[Name0], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt0], [t1].[TeamId], [t1].[ProductId], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DepartmentId], [t1].[Description], [t1].[LeaderId], [t1].[Name], [t1].[UpdatedAt]
FROM (
    SELECT TOP(1) [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[IsBillable], [p].[Name], [p].[ProductDescription], [p].[Status], [p].[UpdatedAt], [u].[Id] AS [Id0], [u].[AvailableHours], [u].[CreatedAt] AS [CreatedAt0], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt] AS [UpdatedAt0]
    FROM [Products] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[CreatedBy] = [u].[Id]
    WHERE [p].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [t0].[TeamId], [t0].[ProductId], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DepartmentId], [t2].[Description], [t2].[LeaderId], [t2].[Name], [t2].[UpdatedAt]
    FROM [TeamProducts] AS [t0]
    INNER JOIN [Teams] AS [t2] ON [t0].[TeamId] = [t2].[Id]
) AS [t1] ON [t].[Id] = [t1].[ProductId]
ORDER BY [t].[Id], [t].[Id0], [t1].[TeamId], [t1].[ProductId]
2025-09-04 12:51:30.859 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.ProductDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:30.955 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProductsController.CreateProduct (TimeTraceOne) in 237.3018ms
2025-09-04 12:51:30.968 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProductsController.CreateProduct (TimeTraceOne)'
2025-09-04 12:51:30.971 +05:00 [INF] HTTP POST /api/products responded 201 in 278.6086 ms
2025-09-04 12:51:30.986 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/products - 201 null application/json; charset=utf-8 310.3586ms
2025-09-04 12:51:31.022 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5155/api/products/00000000-0000-0000-0000-000000000011 - application/json 73
2025-09-04 12:51:31.034 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProductsController.UpdateProduct (TimeTraceOne)'
2025-09-04 12:51:31.049 +05:00 [INF] Route matched with {action = "UpdateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ProductDto]] UpdateProduct(System.Guid, TimeTraceOne.DTOs.UpdateProductDto) on controller TimeTraceOne.Controllers.ProductsController (TimeTraceOne).
2025-09-04 12:51:31.100 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[IsBillable], [t].[Name], [t].[ProductDescription], [t].[Status], [t].[UpdatedAt], [t0].[TeamId], [t0].[ProductId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[IsBillable], [p].[Name], [p].[ProductDescription], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[Id] = @__id_0
) AS [t]
LEFT JOIN [TeamProducts] AS [t0] ON [t].[Id] = [t0].[ProductId]
ORDER BY [t].[Id], [t0].[TeamId]
2025-09-04 12:51:31.118 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 100), @p1='?' (Size = 2000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Name] = @p0, [ProductDescription] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-09-04 12:51:31.132 +05:00 [INF] Updated product "00000000-0000-0000-0000-000000000011"
2025-09-04 12:51:31.153 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[IsBillable], [t].[Name], [t].[ProductDescription], [t].[Status], [t].[UpdatedAt], [t].[Id0], [t].[AvailableHours], [t].[CreatedAt0], [t].[Email], [t].[IsActive], [t].[JobTitle], [t].[Name0], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt0], [t1].[TeamId], [t1].[ProductId], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DepartmentId], [t1].[Description], [t1].[LeaderId], [t1].[Name], [t1].[UpdatedAt]
FROM (
    SELECT TOP(1) [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[IsBillable], [p].[Name], [p].[ProductDescription], [p].[Status], [p].[UpdatedAt], [u].[Id] AS [Id0], [u].[AvailableHours], [u].[CreatedAt] AS [CreatedAt0], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt] AS [UpdatedAt0]
    FROM [Products] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[CreatedBy] = [u].[Id]
    WHERE [p].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [t0].[TeamId], [t0].[ProductId], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DepartmentId], [t2].[Description], [t2].[LeaderId], [t2].[Name], [t2].[UpdatedAt]
    FROM [TeamProducts] AS [t0]
    INNER JOIN [Teams] AS [t2] ON [t0].[TeamId] = [t2].[Id]
) AS [t1] ON [t].[Id] = [t1].[ProductId]
ORDER BY [t].[Id], [t].[Id0], [t1].[TeamId], [t1].[ProductId]
2025-09-04 12:51:31.182 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.ProductDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:31.194 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProductsController.UpdateProduct (TimeTraceOne) in 138.1549ms
2025-09-04 12:51:31.209 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProductsController.UpdateProduct (TimeTraceOne)'
2025-09-04 12:51:31.220 +05:00 [INF] HTTP PUT /api/products/00000000-0000-0000-0000-000000000011 responded 200 in 186.1229 ms
2025-09-04 12:51:31.236 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5155/api/products/00000000-0000-0000-0000-000000000011 - 200 null application/json; charset=utf-8 214.2917ms
2025-09-04 12:51:31.266 +05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5155/api/products/00000000-0000-0000-0000-000000000011 - null 0
2025-09-04 12:51:31.280 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ProductsController.DeleteProduct (TimeTraceOne)'
2025-09-04 12:51:31.294 +05:00 [INF] Route matched with {action = "DeleteProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteProduct(System.Guid) on controller TimeTraceOne.Controllers.ProductsController (TimeTraceOne).
2025-09-04 12:51:31.317 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[IsBillable], [p].[Name], [p].[ProductDescription], [p].[Status], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[Id] = @__get_Item_0
2025-09-04 12:51:31.345 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Products]
OUTPUT 1
WHERE [Id] = @p0;
2025-09-04 12:51:31.365 +05:00 [INF] Deleted product "00000000-0000-0000-0000-000000000011"
2025-09-04 12:51:31.375 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:31.391 +05:00 [INF] Executed action TimeTraceOne.Controllers.ProductsController.DeleteProduct (TimeTraceOne) in 86.8633ms
2025-09-04 12:51:31.407 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ProductsController.DeleteProduct (TimeTraceOne)'
2025-09-04 12:51:31.420 +05:00 [INF] HTTP DELETE /api/products/00000000-0000-0000-0000-000000000011 responded 200 in 141.2739 ms
2025-09-04 12:51:31.437 +05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5155/api/products/00000000-0000-0000-0000-000000000011 - 200 null application/json; charset=utf-8 170.3537ms
2025-09-04 12:51:31.469 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/products/00000000-0000-0000-0000-000000000011/statistics - null null
2025-09-04 12:51:31.492 +05:00 [INF] HTTP GET /api/products/00000000-0000-0000-0000-000000000011/statistics responded 404 in 2.4518 ms
2025-09-04 12:51:31.505 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/products/00000000-0000-0000-0000-000000000011/statistics - 404 0 null 35.7377ms
2025-09-04 12:51:31.525 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5155/api/products/00000000-0000-0000-0000-000000000011/statistics, Response status code: 404
2025-09-04 12:51:31.536 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/departments - null null
2025-09-04 12:51:31.551 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.DepartmentsController.GetDepartments (TimeTraceOne)'
2025-09-04 12:51:31.562 +05:00 [INF] Route matched with {action = "GetDepartments", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.PaginatedResponse`1[TimeTraceOne.DTOs.DepartmentDto]]] GetDepartments(TimeTraceOne.DTOs.DepartmentFilterDto) on controller TimeTraceOne.Controllers.DepartmentsController (TimeTraceOne).
2025-09-04 12:51:31.586 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Departments] AS [d]
2025-09-04 12:51:31.617 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentDescription], [t].[IsBillable], [t].[Name], [t].[Status], [t].[UpdatedAt], [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt]
FROM (
    SELECT [d].[Id], [d].[CreatedAt], [d].[CreatedBy], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name], [d].[Status], [d].[UpdatedAt]
    FROM [Departments] AS [d]
    ORDER BY [d].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[CreatedBy] = [u].[Id]
LEFT JOIN [Teams] AS [t0] ON [t].[Id] = [t0].[DepartmentId]
ORDER BY [t].[Name], [t].[Id], [u].[Id]
2025-09-04 12:51:31.644 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.PaginatedResponse`1[[TimeTraceOne.DTOs.DepartmentDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:31.666 +05:00 [INF] Executed action TimeTraceOne.Controllers.DepartmentsController.GetDepartments (TimeTraceOne) in 94.9185ms
2025-09-04 12:51:31.682 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.DepartmentsController.GetDepartments (TimeTraceOne)'
2025-09-04 12:51:31.693 +05:00 [INF] HTTP GET /api/departments responded 200 in 142.2701 ms
2025-09-04 12:51:31.711 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/departments - 200 null application/json; charset=utf-8 174.5073ms
2025-09-04 12:51:31.738 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/departments/00000000-0000-0000-0000-000000000005 - null null
2025-09-04 12:51:31.765 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.DepartmentsController.GetDepartment (TimeTraceOne)'
2025-09-04 12:51:31.788 +05:00 [INF] Route matched with {action = "GetDepartment", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.DepartmentDto]] GetDepartment(System.Guid) on controller TimeTraceOne.Controllers.DepartmentsController (TimeTraceOne).
2025-09-04 12:51:31.834 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentDescription], [t].[IsBillable], [t].[Name], [t].[Status], [t].[UpdatedAt], [t].[Id0], [t].[AvailableHours], [t].[CreatedAt0], [t].[Email], [t].[IsActive], [t].[JobTitle], [t].[Name0], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt0], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedAt], [d].[CreatedBy], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name], [d].[Status], [d].[UpdatedAt], [u].[Id] AS [Id0], [u].[AvailableHours], [u].[CreatedAt] AS [CreatedAt0], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt] AS [UpdatedAt0]
    FROM [Departments] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[CreatedBy] = [u].[Id]
    WHERE [d].[Id] = @__id_0
) AS [t]
LEFT JOIN [Teams] AS [t0] ON [t].[Id] = [t0].[DepartmentId]
ORDER BY [t].[Id], [t].[Id0]
2025-09-04 12:51:31.851 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.DepartmentDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:31.856 +05:00 [INF] Executed action TimeTraceOne.Controllers.DepartmentsController.GetDepartment (TimeTraceOne) in 52.1006ms
2025-09-04 12:51:31.869 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.DepartmentsController.GetDepartment (TimeTraceOne)'
2025-09-04 12:51:31.877 +05:00 [INF] HTTP GET /api/departments/00000000-0000-0000-0000-000000000005 responded 200 in 115.1839 ms
2025-09-04 12:51:31.889 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/departments/00000000-0000-0000-0000-000000000005 - 200 null application/json; charset=utf-8 151.1331ms
2025-09-04 12:51:31.918 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/departments - application/json 108
2025-09-04 12:51:31.938 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.DepartmentsController.CreateDepartment (TimeTraceOne)'
2025-09-04 12:51:31.954 +05:00 [INF] Route matched with {action = "CreateDepartment", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.DepartmentDto]] CreateDepartment(TimeTraceOne.DTOs.CreateDepartmentDto) on controller TimeTraceOne.Controllers.DepartmentsController (TimeTraceOne).
2025-09-04 12:51:32.001 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 2000), @p4='?' (DbType = Boolean), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([Id], [CreatedAt], [CreatedBy], [DepartmentDescription], [IsBillable], [Name], [Status], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-09-04 12:51:32.018 +05:00 [INF] Created department "db256609-512b-40c2-a011-a10659d25f77" with name Test Department 6
2025-09-04 12:51:32.033 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentDescription], [t].[IsBillable], [t].[Name], [t].[Status], [t].[UpdatedAt], [t].[Id0], [t].[AvailableHours], [t].[CreatedAt0], [t].[Email], [t].[IsActive], [t].[JobTitle], [t].[Name0], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt0], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedAt], [d].[CreatedBy], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name], [d].[Status], [d].[UpdatedAt], [u].[Id] AS [Id0], [u].[AvailableHours], [u].[CreatedAt] AS [CreatedAt0], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt] AS [UpdatedAt0]
    FROM [Departments] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[CreatedBy] = [u].[Id]
    WHERE [d].[Id] = @__id_0
) AS [t]
LEFT JOIN [Teams] AS [t0] ON [t].[Id] = [t0].[DepartmentId]
ORDER BY [t].[Id], [t].[Id0]
2025-09-04 12:51:32.054 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.DepartmentDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:32.067 +05:00 [INF] Executed action TimeTraceOne.Controllers.DepartmentsController.CreateDepartment (TimeTraceOne) in 94.6121ms
2025-09-04 12:51:32.077 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.DepartmentsController.CreateDepartment (TimeTraceOne)'
2025-09-04 12:51:32.086 +05:00 [INF] HTTP POST /api/departments responded 201 in 148.5585 ms
2025-09-04 12:51:32.101 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/departments - 201 null application/json; charset=utf-8 182.6721ms
2025-09-04 12:51:32.117 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5155/api/departments/00000000-0000-0000-0000-000000000005 - application/json 79
2025-09-04 12:51:32.121 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.DepartmentsController.UpdateDepartment (TimeTraceOne)'
2025-09-04 12:51:32.132 +05:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.DepartmentDto]] UpdateDepartment(System.Guid, TimeTraceOne.DTOs.UpdateDepartmentDto) on controller TimeTraceOne.Controllers.DepartmentsController (TimeTraceOne).
2025-09-04 12:51:32.167 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CreatedAt], [d].[CreatedBy], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name], [d].[Status], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__get_Item_0
2025-09-04 12:51:32.182 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 2000), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [DepartmentDescription] = @p0, [Name] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-09-04 12:51:32.187 +05:00 [INF] Updated department "00000000-0000-0000-0000-000000000005"
2025-09-04 12:51:32.201 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentDescription], [t].[IsBillable], [t].[Name], [t].[Status], [t].[UpdatedAt], [t].[Id0], [t].[AvailableHours], [t].[CreatedAt0], [t].[Email], [t].[IsActive], [t].[JobTitle], [t].[Name0], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt0], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedAt], [d].[CreatedBy], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name], [d].[Status], [d].[UpdatedAt], [u].[Id] AS [Id0], [u].[AvailableHours], [u].[CreatedAt] AS [CreatedAt0], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt] AS [UpdatedAt0]
    FROM [Departments] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[CreatedBy] = [u].[Id]
    WHERE [d].[Id] = @__id_0
) AS [t]
LEFT JOIN [Teams] AS [t0] ON [t].[Id] = [t0].[DepartmentId]
ORDER BY [t].[Id], [t].[Id0]
2025-09-04 12:51:32.229 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.DepartmentDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:32.245 +05:00 [INF] Executed action TimeTraceOne.Controllers.DepartmentsController.UpdateDepartment (TimeTraceOne) in 97.4762ms
2025-09-04 12:51:32.262 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.DepartmentsController.UpdateDepartment (TimeTraceOne)'
2025-09-04 12:51:32.272 +05:00 [INF] HTTP PUT /api/departments/00000000-0000-0000-0000-000000000005 responded 200 in 151.4155 ms
2025-09-04 12:51:32.292 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5155/api/departments/00000000-0000-0000-0000-000000000005 - 200 null application/json; charset=utf-8 174.1662ms
2025-09-04 12:51:32.326 +05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5155/api/departments/00000000-0000-0000-0000-000000000005 - null 0
2025-09-04 12:51:32.349 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.DepartmentsController.DeleteDepartment (TimeTraceOne)'
2025-09-04 12:51:32.360 +05:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteDepartment(System.Guid) on controller TimeTraceOne.Controllers.DepartmentsController (TimeTraceOne).
2025-09-04 12:51:32.384 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CreatedAt], [d].[CreatedBy], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name], [d].[Status], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__get_Item_0
2025-09-04 12:51:32.401 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Departments]
OUTPUT 1
WHERE [Id] = @p0;
2025-09-04 12:51:32.416 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'TimeTraceOne.Data.TimeFlowDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Teams_Departments_DepartmentId". The conflict occurred in database "TimeTraceOne", table "dbo.Teams", column 'DepartmentId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:02fb798d-52ed-4c21-9dc8-b9caa6f96ef1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Teams_Departments_DepartmentId". The conflict occurred in database "TimeTraceOne", table "dbo.Teams", column 'DepartmentId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:02fb798d-52ed-4c21-9dc8-b9caa6f96ef1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-04 12:51:32.468 +05:00 [ERR] Error deleting department "00000000-0000-0000-0000-000000000005"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Teams_Departments_DepartmentId". The conflict occurred in database "TimeTraceOne", table "dbo.Teams", column 'DepartmentId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:02fb798d-52ed-4c21-9dc8-b9caa6f96ef1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TimeTraceOne.Services.DepartmentService.DeleteDepartmentAsync(Guid id) in D:\project\TimeTraceOne\Services\DepartmentService.cs:line 117
   at TimeTraceOne.Controllers.DepartmentsController.DeleteDepartment(Guid id) in D:\project\TimeTraceOne\Controllers\DepartmentsController.cs:line 121
2025-09-04 12:51:32.564 +05:00 [INF] Executing ObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:32.603 +05:00 [INF] Executed action TimeTraceOne.Controllers.DepartmentsController.DeleteDepartment (TimeTraceOne) in 231.6986ms
2025-09-04 12:51:32.625 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.DepartmentsController.DeleteDepartment (TimeTraceOne)'
2025-09-04 12:51:32.639 +05:00 [ERR] HTTP DELETE /api/departments/00000000-0000-0000-0000-000000000005 responded 500 in 292.6458 ms
2025-09-04 12:51:32.650 +05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5155/api/departments/00000000-0000-0000-0000-000000000005 - 500 null application/json; charset=utf-8 323.7675ms
2025-09-04 12:51:32.684 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/teams - null null
2025-09-04 12:51:32.700 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.TeamsController.GetTeams (TimeTraceOne)'
2025-09-04 12:51:32.725 +05:00 [INF] Route matched with {action = "GetTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.PaginatedResponse`1[TimeTraceOne.DTOs.TeamDto]]] GetTeams(TimeTraceOne.DTOs.TeamFilterDto) on controller TimeTraceOne.Controllers.TeamsController (TimeTraceOne).
2025-09-04 12:51:32.808 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teams] AS [t]
2025-09-04 12:51:33.048 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-04 12:51:33.128 +05:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[CreatedBy], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name], [d].[Status], [d].[UpdatedAt], [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u0].[Id], [u0].[AvailableHours], [u0].[CreatedAt], [u0].[Email], [u0].[IsActive], [u0].[JobTitle], [u0].[Name], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [t1].[TeamId], [t1].[UserId], [t1].[JoinedAt], [t1].[Id], [t1].[AvailableHours], [t1].[CreatedAt], [t1].[Email], [t1].[IsActive], [t1].[JobTitle], [t1].[Name], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t3].[TeamId], [t3].[ProjectId], [t3].[Id], [t3].[ClientEmail], [t3].[ClientName], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Description], [t3].[IsBillable], [t3].[Name], [t3].[ProjectType], [t3].[Status], [t3].[UpdatedAt], [t5].[TeamId], [t5].[ProductId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[IsBillable], [t5].[Name], [t5].[ProductDescription], [t5].[Status], [t5].[UpdatedAt], [t7].[TeamId], [t7].[DepartmentId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[DepartmentDescription], [t7].[IsBillable], [t7].[Name], [t7].[Status], [t7].[UpdatedAt]
FROM (
    SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
    FROM [Teams] AS [t]
    ORDER BY [t].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Departments] AS [d] ON [t0].[DepartmentId] = [d].[Id]
LEFT JOIN [Users] AS [u] ON [t0].[LeaderId] = [u].[Id]
INNER JOIN [Users] AS [u0] ON [t0].[CreatedBy] = [u0].[Id]
LEFT JOIN (
    SELECT [t2].[TeamId], [t2].[UserId], [t2].[JoinedAt], [u1].[Id], [u1].[AvailableHours], [u1].[CreatedAt], [u1].[Email], [u1].[IsActive], [u1].[JobTitle], [u1].[Name], [u1].[PasswordHash], [u1].[Role], [u1].[UpdatedAt]
    FROM [TeamMembers] AS [t2]
    INNER JOIN [Users] AS [u1] ON [t2].[UserId] = [u1].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TeamId]
LEFT JOIN (
    SELECT [t4].[TeamId], [t4].[ProjectId], [p].[Id], [p].[ClientEmail], [p].[ClientName], [p].[CreatedAt], [p].[CreatedBy], [p].[Description], [p].[IsBillable], [p].[Name], [p].[ProjectType], [p].[Status], [p].[UpdatedAt]
    FROM [TeamProjects] AS [t4]
    INNER JOIN [Projects] AS [p] ON [t4].[ProjectId] = [p].[Id]
) AS [t3] ON [t0].[Id] = [t3].[TeamId]
LEFT JOIN (
    SELECT [t6].[TeamId], [t6].[ProductId], [p0].[Id], [p0].[CreatedAt], [p0].[CreatedBy], [p0].[IsBillable], [p0].[Name], [p0].[ProductDescription], [p0].[Status], [p0].[UpdatedAt]
    FROM [TeamProducts] AS [t6]
    INNER JOIN [Products] AS [p0] ON [t6].[ProductId] = [p0].[Id]
) AS [t5] ON [t0].[Id] = [t5].[TeamId]
LEFT JOIN (
    SELECT [t8].[TeamId], [t8].[DepartmentId], [d0].[Id], [d0].[CreatedAt], [d0].[CreatedBy], [d0].[DepartmentDescription], [d0].[IsBillable], [d0].[Name], [d0].[Status], [d0].[UpdatedAt]
    FROM [TeamDepartments] AS [t8]
    INNER JOIN [Departments] AS [d0] ON [t8].[DepartmentId] = [d0].[Id]
) AS [t7] ON [t0].[Id] = [t7].[TeamId]
ORDER BY [t0].[Name], [t0].[Id], [d].[Id], [u].[Id], [u0].[Id], [t1].[TeamId], [t1].[UserId], [t1].[Id], [t3].[TeamId], [t3].[ProjectId], [t3].[Id], [t5].[TeamId], [t5].[ProductId], [t5].[Id], [t7].[TeamId], [t7].[DepartmentId]
2025-09-04 12:51:33.153 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.PaginatedResponse`1[[TimeTraceOne.DTOs.TeamDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:33.170 +05:00 [INF] Executed action TimeTraceOne.Controllers.TeamsController.GetTeams (TimeTraceOne) in 416.0257ms
2025-09-04 12:51:33.184 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.TeamsController.GetTeams (TimeTraceOne)'
2025-09-04 12:51:33.189 +05:00 [INF] HTTP GET /api/teams responded 200 in 491.4126 ms
2025-09-04 12:51:33.202 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/teams - 200 null application/json; charset=utf-8 518.4745ms
2025-09-04 12:51:33.226 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010 - null null
2025-09-04 12:51:33.253 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.TeamsController.GetTeam (TimeTraceOne)'
2025-09-04 12:51:33.268 +05:00 [INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.TeamDto]] GetTeam(System.Guid) on controller TimeTraceOne.Controllers.TeamsController (TimeTraceOne).
2025-09-04 12:51:33.400 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-04 12:51:33.512 +05:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[CreatedBy0], [t0].[DepartmentDescription], [t0].[IsBillable], [t0].[Name0], [t0].[Status], [t0].[UpdatedAt0], [t0].[Id1], [t0].[AvailableHours], [t0].[CreatedAt1], [t0].[Email], [t0].[IsActive], [t0].[JobTitle], [t0].[Name1], [t0].[PasswordHash], [t0].[Role], [t0].[UpdatedAt1], [t0].[Id2], [t0].[AvailableHours0], [t0].[CreatedAt2], [t0].[Email0], [t0].[IsActive0], [t0].[JobTitle0], [t0].[Name2], [t0].[PasswordHash0], [t0].[Role0], [t0].[UpdatedAt2], [t1].[TeamId], [t1].[UserId], [t1].[JoinedAt], [t1].[Id], [t1].[AvailableHours], [t1].[CreatedAt], [t1].[Email], [t1].[IsActive], [t1].[JobTitle], [t1].[Name], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t3].[TeamId], [t3].[ProjectId], [t3].[Id], [t3].[ClientEmail], [t3].[ClientName], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Description], [t3].[IsBillable], [t3].[Name], [t3].[ProjectType], [t3].[Status], [t3].[UpdatedAt], [t5].[TeamId], [t5].[ProductId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[IsBillable], [t5].[Name], [t5].[ProductDescription], [t5].[Status], [t5].[UpdatedAt], [t7].[TeamId], [t7].[DepartmentId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[DepartmentDescription], [t7].[IsBillable], [t7].[Name], [t7].[Status], [t7].[UpdatedAt]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt], [d].[Id] AS [Id0], [d].[CreatedAt] AS [CreatedAt0], [d].[CreatedBy] AS [CreatedBy0], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name] AS [Name0], [d].[Status], [d].[UpdatedAt] AS [UpdatedAt0], [u].[Id] AS [Id1], [u].[AvailableHours], [u].[CreatedAt] AS [CreatedAt1], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name] AS [Name1], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt] AS [UpdatedAt1], [u0].[Id] AS [Id2], [u0].[AvailableHours] AS [AvailableHours0], [u0].[CreatedAt] AS [CreatedAt2], [u0].[Email] AS [Email0], [u0].[IsActive] AS [IsActive0], [u0].[JobTitle] AS [JobTitle0], [u0].[Name] AS [Name2], [u0].[PasswordHash] AS [PasswordHash0], [u0].[Role] AS [Role0], [u0].[UpdatedAt] AS [UpdatedAt2]
    FROM [Teams] AS [t]
    INNER JOIN [Departments] AS [d] ON [t].[DepartmentId] = [d].[Id]
    LEFT JOIN [Users] AS [u] ON [t].[LeaderId] = [u].[Id]
    INNER JOIN [Users] AS [u0] ON [t].[CreatedBy] = [u0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[TeamId], [t2].[UserId], [t2].[JoinedAt], [u1].[Id], [u1].[AvailableHours], [u1].[CreatedAt], [u1].[Email], [u1].[IsActive], [u1].[JobTitle], [u1].[Name], [u1].[PasswordHash], [u1].[Role], [u1].[UpdatedAt]
    FROM [TeamMembers] AS [t2]
    INNER JOIN [Users] AS [u1] ON [t2].[UserId] = [u1].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TeamId]
LEFT JOIN (
    SELECT [t4].[TeamId], [t4].[ProjectId], [p].[Id], [p].[ClientEmail], [p].[ClientName], [p].[CreatedAt], [p].[CreatedBy], [p].[Description], [p].[IsBillable], [p].[Name], [p].[ProjectType], [p].[Status], [p].[UpdatedAt]
    FROM [TeamProjects] AS [t4]
    INNER JOIN [Projects] AS [p] ON [t4].[ProjectId] = [p].[Id]
) AS [t3] ON [t0].[Id] = [t3].[TeamId]
LEFT JOIN (
    SELECT [t6].[TeamId], [t6].[ProductId], [p0].[Id], [p0].[CreatedAt], [p0].[CreatedBy], [p0].[IsBillable], [p0].[Name], [p0].[ProductDescription], [p0].[Status], [p0].[UpdatedAt]
    FROM [TeamProducts] AS [t6]
    INNER JOIN [Products] AS [p0] ON [t6].[ProductId] = [p0].[Id]
) AS [t5] ON [t0].[Id] = [t5].[TeamId]
LEFT JOIN (
    SELECT [t8].[TeamId], [t8].[DepartmentId], [d0].[Id], [d0].[CreatedAt], [d0].[CreatedBy], [d0].[DepartmentDescription], [d0].[IsBillable], [d0].[Name], [d0].[Status], [d0].[UpdatedAt]
    FROM [TeamDepartments] AS [t8]
    INNER JOIN [Departments] AS [d0] ON [t8].[DepartmentId] = [d0].[Id]
) AS [t7] ON [t0].[Id] = [t7].[TeamId]
ORDER BY [t0].[Id], [t0].[Id0], [t0].[Id1], [t0].[Id2], [t1].[TeamId], [t1].[UserId], [t1].[Id], [t3].[TeamId], [t3].[ProjectId], [t3].[Id], [t5].[TeamId], [t5].[ProductId], [t5].[Id], [t7].[TeamId], [t7].[DepartmentId]
2025-09-04 12:51:33.562 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.TeamDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:33.584 +05:00 [INF] Executed action TimeTraceOne.Controllers.TeamsController.GetTeam (TimeTraceOne) in 294.586ms
2025-09-04 12:51:33.602 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.TeamsController.GetTeam (TimeTraceOne)'
2025-09-04 12:51:33.616 +05:00 [INF] HTTP GET /api/teams/00000000-0000-0000-0000-000000000010 responded 200 in 363.1231 ms
2025-09-04 12:51:33.637 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010 - 200 null application/json; charset=utf-8 410.8617ms
2025-09-04 12:51:33.668 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/teams - application/json 154
2025-09-04 12:51:33.694 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.TeamsController.CreateTeam (TimeTraceOne)'
2025-09-04 12:51:33.704 +05:00 [INF] Route matched with {action = "CreateTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.TeamDto]] CreateTeam(TimeTraceOne.DTOs.CreateTeamDto) on controller TimeTraceOne.Controllers.TeamsController (TimeTraceOne).
2025-09-04 12:51:33.742 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?' (Size = 2000), @p5='?' (DbType = Guid), @p6='?' (Size = 100), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Teams] ([Id], [CreatedAt], [CreatedBy], [DepartmentId], [Description], [LeaderId], [Name], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-09-04 12:51:33.763 +05:00 [INF] Created team "5f9c8346-c6b0-402c-856a-1e53e3124f66" with name Test Team 6
2025-09-04 12:51:33.799 +05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[CreatedBy0], [t0].[DepartmentDescription], [t0].[IsBillable], [t0].[Name0], [t0].[Status], [t0].[UpdatedAt0], [t0].[Id1], [t0].[AvailableHours], [t0].[CreatedAt1], [t0].[Email], [t0].[IsActive], [t0].[JobTitle], [t0].[Name1], [t0].[PasswordHash], [t0].[Role], [t0].[UpdatedAt1], [t0].[Id2], [t0].[AvailableHours0], [t0].[CreatedAt2], [t0].[Email0], [t0].[IsActive0], [t0].[JobTitle0], [t0].[Name2], [t0].[PasswordHash0], [t0].[Role0], [t0].[UpdatedAt2], [t1].[TeamId], [t1].[UserId], [t1].[JoinedAt], [t1].[Id], [t1].[AvailableHours], [t1].[CreatedAt], [t1].[Email], [t1].[IsActive], [t1].[JobTitle], [t1].[Name], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t3].[TeamId], [t3].[ProjectId], [t3].[Id], [t3].[ClientEmail], [t3].[ClientName], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Description], [t3].[IsBillable], [t3].[Name], [t3].[ProjectType], [t3].[Status], [t3].[UpdatedAt], [t5].[TeamId], [t5].[ProductId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[IsBillable], [t5].[Name], [t5].[ProductDescription], [t5].[Status], [t5].[UpdatedAt], [t7].[TeamId], [t7].[DepartmentId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[DepartmentDescription], [t7].[IsBillable], [t7].[Name], [t7].[Status], [t7].[UpdatedAt]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt], [d].[Id] AS [Id0], [d].[CreatedAt] AS [CreatedAt0], [d].[CreatedBy] AS [CreatedBy0], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name] AS [Name0], [d].[Status], [d].[UpdatedAt] AS [UpdatedAt0], [u].[Id] AS [Id1], [u].[AvailableHours], [u].[CreatedAt] AS [CreatedAt1], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name] AS [Name1], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt] AS [UpdatedAt1], [u0].[Id] AS [Id2], [u0].[AvailableHours] AS [AvailableHours0], [u0].[CreatedAt] AS [CreatedAt2], [u0].[Email] AS [Email0], [u0].[IsActive] AS [IsActive0], [u0].[JobTitle] AS [JobTitle0], [u0].[Name] AS [Name2], [u0].[PasswordHash] AS [PasswordHash0], [u0].[Role] AS [Role0], [u0].[UpdatedAt] AS [UpdatedAt2]
    FROM [Teams] AS [t]
    INNER JOIN [Departments] AS [d] ON [t].[DepartmentId] = [d].[Id]
    LEFT JOIN [Users] AS [u] ON [t].[LeaderId] = [u].[Id]
    INNER JOIN [Users] AS [u0] ON [t].[CreatedBy] = [u0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[TeamId], [t2].[UserId], [t2].[JoinedAt], [u1].[Id], [u1].[AvailableHours], [u1].[CreatedAt], [u1].[Email], [u1].[IsActive], [u1].[JobTitle], [u1].[Name], [u1].[PasswordHash], [u1].[Role], [u1].[UpdatedAt]
    FROM [TeamMembers] AS [t2]
    INNER JOIN [Users] AS [u1] ON [t2].[UserId] = [u1].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TeamId]
LEFT JOIN (
    SELECT [t4].[TeamId], [t4].[ProjectId], [p].[Id], [p].[ClientEmail], [p].[ClientName], [p].[CreatedAt], [p].[CreatedBy], [p].[Description], [p].[IsBillable], [p].[Name], [p].[ProjectType], [p].[Status], [p].[UpdatedAt]
    FROM [TeamProjects] AS [t4]
    INNER JOIN [Projects] AS [p] ON [t4].[ProjectId] = [p].[Id]
) AS [t3] ON [t0].[Id] = [t3].[TeamId]
LEFT JOIN (
    SELECT [t6].[TeamId], [t6].[ProductId], [p0].[Id], [p0].[CreatedAt], [p0].[CreatedBy], [p0].[IsBillable], [p0].[Name], [p0].[ProductDescription], [p0].[Status], [p0].[UpdatedAt]
    FROM [TeamProducts] AS [t6]
    INNER JOIN [Products] AS [p0] ON [t6].[ProductId] = [p0].[Id]
) AS [t5] ON [t0].[Id] = [t5].[TeamId]
LEFT JOIN (
    SELECT [t8].[TeamId], [t8].[DepartmentId], [d0].[Id], [d0].[CreatedAt], [d0].[CreatedBy], [d0].[DepartmentDescription], [d0].[IsBillable], [d0].[Name], [d0].[Status], [d0].[UpdatedAt]
    FROM [TeamDepartments] AS [t8]
    INNER JOIN [Departments] AS [d0] ON [t8].[DepartmentId] = [d0].[Id]
) AS [t7] ON [t0].[Id] = [t7].[TeamId]
ORDER BY [t0].[Id], [t0].[Id0], [t0].[Id1], [t0].[Id2], [t1].[TeamId], [t1].[UserId], [t1].[Id], [t3].[TeamId], [t3].[ProjectId], [t3].[Id], [t5].[TeamId], [t5].[ProductId], [t5].[Id], [t7].[TeamId], [t7].[DepartmentId]
2025-09-04 12:51:33.836 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.TeamDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:33.849 +05:00 [INF] Executed action TimeTraceOne.Controllers.TeamsController.CreateTeam (TimeTraceOne) in 131.9263ms
2025-09-04 12:51:33.863 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.TeamsController.CreateTeam (TimeTraceOne)'
2025-09-04 12:51:33.873 +05:00 [INF] HTTP POST /api/teams responded 201 in 180.4242 ms
2025-09-04 12:51:33.894 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/teams - 201 null application/json; charset=utf-8 225.6504ms
2025-09-04 12:51:33.920 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010 - application/json 63
2025-09-04 12:51:33.938 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.TeamsController.UpdateTeam (TimeTraceOne)'
2025-09-04 12:51:33.955 +05:00 [INF] Route matched with {action = "UpdateTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.TeamDto]] UpdateTeam(System.Guid, TimeTraceOne.DTOs.UpdateTeamDto) on controller TimeTraceOne.Controllers.TeamsController (TimeTraceOne).
2025-09-04 12:51:34.038 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
FROM [Teams] AS [t]
WHERE [t].[Id] = @__get_Item_0
2025-09-04 12:51:34.062 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 2000), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Teams] SET [Description] = @p0, [Name] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-09-04 12:51:34.069 +05:00 [INF] Updated team "00000000-0000-0000-0000-000000000010"
2025-09-04 12:51:34.086 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[CreatedBy0], [t0].[DepartmentDescription], [t0].[IsBillable], [t0].[Name0], [t0].[Status], [t0].[UpdatedAt0], [t0].[Id1], [t0].[AvailableHours], [t0].[CreatedAt1], [t0].[Email], [t0].[IsActive], [t0].[JobTitle], [t0].[Name1], [t0].[PasswordHash], [t0].[Role], [t0].[UpdatedAt1], [t0].[Id2], [t0].[AvailableHours0], [t0].[CreatedAt2], [t0].[Email0], [t0].[IsActive0], [t0].[JobTitle0], [t0].[Name2], [t0].[PasswordHash0], [t0].[Role0], [t0].[UpdatedAt2], [t1].[TeamId], [t1].[UserId], [t1].[JoinedAt], [t1].[Id], [t1].[AvailableHours], [t1].[CreatedAt], [t1].[Email], [t1].[IsActive], [t1].[JobTitle], [t1].[Name], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t3].[TeamId], [t3].[ProjectId], [t3].[Id], [t3].[ClientEmail], [t3].[ClientName], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Description], [t3].[IsBillable], [t3].[Name], [t3].[ProjectType], [t3].[Status], [t3].[UpdatedAt], [t5].[TeamId], [t5].[ProductId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[IsBillable], [t5].[Name], [t5].[ProductDescription], [t5].[Status], [t5].[UpdatedAt], [t7].[TeamId], [t7].[DepartmentId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[DepartmentDescription], [t7].[IsBillable], [t7].[Name], [t7].[Status], [t7].[UpdatedAt]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt], [d].[Id] AS [Id0], [d].[CreatedAt] AS [CreatedAt0], [d].[CreatedBy] AS [CreatedBy0], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name] AS [Name0], [d].[Status], [d].[UpdatedAt] AS [UpdatedAt0], [u].[Id] AS [Id1], [u].[AvailableHours], [u].[CreatedAt] AS [CreatedAt1], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name] AS [Name1], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt] AS [UpdatedAt1], [u0].[Id] AS [Id2], [u0].[AvailableHours] AS [AvailableHours0], [u0].[CreatedAt] AS [CreatedAt2], [u0].[Email] AS [Email0], [u0].[IsActive] AS [IsActive0], [u0].[JobTitle] AS [JobTitle0], [u0].[Name] AS [Name2], [u0].[PasswordHash] AS [PasswordHash0], [u0].[Role] AS [Role0], [u0].[UpdatedAt] AS [UpdatedAt2]
    FROM [Teams] AS [t]
    INNER JOIN [Departments] AS [d] ON [t].[DepartmentId] = [d].[Id]
    LEFT JOIN [Users] AS [u] ON [t].[LeaderId] = [u].[Id]
    INNER JOIN [Users] AS [u0] ON [t].[CreatedBy] = [u0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[TeamId], [t2].[UserId], [t2].[JoinedAt], [u1].[Id], [u1].[AvailableHours], [u1].[CreatedAt], [u1].[Email], [u1].[IsActive], [u1].[JobTitle], [u1].[Name], [u1].[PasswordHash], [u1].[Role], [u1].[UpdatedAt]
    FROM [TeamMembers] AS [t2]
    INNER JOIN [Users] AS [u1] ON [t2].[UserId] = [u1].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TeamId]
LEFT JOIN (
    SELECT [t4].[TeamId], [t4].[ProjectId], [p].[Id], [p].[ClientEmail], [p].[ClientName], [p].[CreatedAt], [p].[CreatedBy], [p].[Description], [p].[IsBillable], [p].[Name], [p].[ProjectType], [p].[Status], [p].[UpdatedAt]
    FROM [TeamProjects] AS [t4]
    INNER JOIN [Projects] AS [p] ON [t4].[ProjectId] = [p].[Id]
) AS [t3] ON [t0].[Id] = [t3].[TeamId]
LEFT JOIN (
    SELECT [t6].[TeamId], [t6].[ProductId], [p0].[Id], [p0].[CreatedAt], [p0].[CreatedBy], [p0].[IsBillable], [p0].[Name], [p0].[ProductDescription], [p0].[Status], [p0].[UpdatedAt]
    FROM [TeamProducts] AS [t6]
    INNER JOIN [Products] AS [p0] ON [t6].[ProductId] = [p0].[Id]
) AS [t5] ON [t0].[Id] = [t5].[TeamId]
LEFT JOIN (
    SELECT [t8].[TeamId], [t8].[DepartmentId], [d0].[Id], [d0].[CreatedAt], [d0].[CreatedBy], [d0].[DepartmentDescription], [d0].[IsBillable], [d0].[Name], [d0].[Status], [d0].[UpdatedAt]
    FROM [TeamDepartments] AS [t8]
    INNER JOIN [Departments] AS [d0] ON [t8].[DepartmentId] = [d0].[Id]
) AS [t7] ON [t0].[Id] = [t7].[TeamId]
ORDER BY [t0].[Id], [t0].[Id0], [t0].[Id1], [t0].[Id2], [t1].[TeamId], [t1].[UserId], [t1].[Id], [t3].[TeamId], [t3].[ProjectId], [t3].[Id], [t5].[TeamId], [t5].[ProductId], [t5].[Id], [t7].[TeamId], [t7].[DepartmentId]
2025-09-04 12:51:34.128 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.TeamDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:34.134 +05:00 [INF] Executed action TimeTraceOne.Controllers.TeamsController.UpdateTeam (TimeTraceOne) in 164.4596ms
2025-09-04 12:51:34.143 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.TeamsController.UpdateTeam (TimeTraceOne)'
2025-09-04 12:51:34.151 +05:00 [INF] HTTP PUT /api/teams/00000000-0000-0000-0000-000000000010 responded 200 in 213.4772 ms
2025-09-04 12:51:34.167 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010 - 200 null application/json; charset=utf-8 246.807ms
2025-09-04 12:51:34.195 +05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010 - null 0
2025-09-04 12:51:34.215 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.TeamsController.DeleteTeam (TimeTraceOne)'
2025-09-04 12:51:34.228 +05:00 [INF] Route matched with {action = "DeleteTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteTeam(System.Guid) on controller TimeTraceOne.Controllers.TeamsController (TimeTraceOne).
2025-09-04 12:51:34.250 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
FROM [Teams] AS [t]
WHERE [t].[Id] = @__get_Item_0
2025-09-04 12:51:34.320 +05:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Teams]
OUTPUT 1
WHERE [Id] = @p0;
2025-09-04 12:51:34.352 +05:00 [INF] Deleted team "00000000-0000-0000-0000-000000000010"
2025-09-04 12:51:34.366 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:34.383 +05:00 [INF] Executed action TimeTraceOne.Controllers.TeamsController.DeleteTeam (TimeTraceOne) in 139.1064ms
2025-09-04 12:51:34.402 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.TeamsController.DeleteTeam (TimeTraceOne)'
2025-09-04 12:51:34.415 +05:00 [INF] HTTP DELETE /api/teams/00000000-0000-0000-0000-000000000010 responded 200 in 201.4234 ms
2025-09-04 12:51:34.433 +05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010 - 200 null application/json; charset=utf-8 237.8163ms
2025-09-04 12:51:34.456 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010/members - application/json 49
2025-09-04 12:51:34.471 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.TeamsController.AddMember (TimeTraceOne)'
2025-09-04 12:51:34.483 +05:00 [INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.TeamDto]] AddMember(System.Guid, TimeTraceOne.DTOs.AddTeamMemberDto) on controller TimeTraceOne.Controllers.TeamsController (TimeTraceOne).
2025-09-04 12:51:34.533 +05:00 [INF] Executed DbCommand (30ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt], [t1].[TeamId], [t1].[UserId], [t1].[JoinedAt]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
    FROM [Teams] AS [t]
    WHERE [t].[Id] = @__teamId_0
) AS [t0]
LEFT JOIN [TeamMembers] AS [t1] ON [t0].[Id] = [t1].[TeamId]
ORDER BY [t0].[Id], [t1].[TeamId]
2025-09-04 12:51:34.538 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:34.553 +05:00 [INF] Executed action TimeTraceOne.Controllers.TeamsController.AddMember (TimeTraceOne) in 66.05ms
2025-09-04 12:51:34.567 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.TeamsController.AddMember (TimeTraceOne)'
2025-09-04 12:51:34.575 +05:00 [INF] HTTP POST /api/teams/00000000-0000-0000-0000-000000000010/members responded 400 in 104.6778 ms
2025-09-04 12:51:34.589 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010/members - 400 null application/json; charset=utf-8 132.5674ms
2025-09-04 12:51:34.615 +05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010/members/00000000-0000-0000-0000-000000000004 - null 0
2025-09-04 12:51:34.637 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.TeamsController.RemoveMember (TimeTraceOne)'
2025-09-04 12:51:34.653 +05:00 [INF] Route matched with {action = "RemoveMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.TeamDto]] RemoveMember(System.Guid, System.Guid) on controller TimeTraceOne.Controllers.TeamsController (TimeTraceOne).
2025-09-04 12:51:34.702 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__teamId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TeamId], [t].[UserId], [t].[JoinedAt]
FROM [TeamMembers] AS [t]
WHERE [t].[TeamId] = @__teamId_0 AND [t].[UserId] = @__userId_1
2025-09-04 12:51:34.715 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:34.718 +05:00 [INF] Executed action TimeTraceOne.Controllers.TeamsController.RemoveMember (TimeTraceOne) in 43.1213ms
2025-09-04 12:51:34.720 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.TeamsController.RemoveMember (TimeTraceOne)'
2025-09-04 12:51:34.725 +05:00 [INF] HTTP DELETE /api/teams/00000000-0000-0000-0000-000000000010/members/00000000-0000-0000-0000-000000000004 responded 400 in 88.3656 ms
2025-09-04 12:51:34.732 +05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010/members/00000000-0000-0000-0000-000000000004 - 400 null application/json; charset=utf-8 117.508ms
2025-09-04 12:51:34.793 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010/leader - application/json 51
2025-09-04 12:51:34.820 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.TeamsController.UpdateLeader (TimeTraceOne)'
2025-09-04 12:51:34.848 +05:00 [INF] Route matched with {action = "UpdateLeader", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.TeamDto]] UpdateLeader(System.Guid, TimeTraceOne.DTOs.UpdateTeamLeaderDto) on controller TimeTraceOne.Controllers.TeamsController (TimeTraceOne).
2025-09-04 12:51:34.882 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
FROM [Teams] AS [t]
WHERE [t].[Id] = @__get_Item_0
2025-09-04 12:51:34.901 +05:00 [ERR] Error updating team leader for "00000000-0000-0000-0000-000000000010"
System.InvalidOperationException: Team not found
   at TimeTraceOne.Services.TeamService.UpdateTeamLeaderAsync(Guid teamId, UpdateTeamLeaderDto dto) in D:\project\TimeTraceOne\Services\TeamService.cs:line 228
   at TimeTraceOne.Controllers.TeamsController.UpdateLeader(Guid id, UpdateTeamLeaderDto dto) in D:\project\TimeTraceOne\Controllers\TeamsController.cs:line 196
2025-09-04 12:51:34.917 +05:00 [INF] Executing ObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:34.930 +05:00 [INF] Executed action TimeTraceOne.Controllers.TeamsController.UpdateLeader (TimeTraceOne) in 59.9579ms
2025-09-04 12:51:34.946 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.TeamsController.UpdateLeader (TimeTraceOne)'
2025-09-04 12:51:34.953 +05:00 [ERR] HTTP PUT /api/teams/00000000-0000-0000-0000-000000000010/leader responded 500 in 133.1342 ms
2025-09-04 12:51:34.967 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010/leader - 500 null application/json; charset=utf-8 173.1269ms
2025-09-04 12:51:34.986 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010/projects - application/json 52
2025-09-04 12:51:35.004 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.TeamsController.AssociateProject (TimeTraceOne)'
2025-09-04 12:51:35.019 +05:00 [INF] Route matched with {action = "AssociateProject", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.TeamDto]] AssociateProject(System.Guid, TimeTraceOne.DTOs.AssociateTeamProjectDto) on controller TimeTraceOne.Controllers.TeamsController (TimeTraceOne).
2025-09-04 12:51:35.087 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt], [t1].[TeamId], [t1].[ProjectId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
    FROM [Teams] AS [t]
    WHERE [t].[Id] = @__teamId_0
) AS [t0]
LEFT JOIN [TeamProjects] AS [t1] ON [t0].[Id] = [t1].[TeamId]
ORDER BY [t0].[Id], [t1].[TeamId]
2025-09-04 12:51:35.117 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:35.133 +05:00 [INF] Executed action TimeTraceOne.Controllers.TeamsController.AssociateProject (TimeTraceOne) in 97.2093ms
2025-09-04 12:51:35.141 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.TeamsController.AssociateProject (TimeTraceOne)'
2025-09-04 12:51:35.151 +05:00 [INF] HTTP POST /api/teams/00000000-0000-0000-0000-000000000010/projects responded 400 in 146.9138 ms
2025-09-04 12:51:35.165 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010/projects - 400 null application/json; charset=utf-8 179.3578ms
2025-09-04 12:51:35.186 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010/products - application/json 52
2025-09-04 12:51:35.202 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.TeamsController.AssociateProduct (TimeTraceOne)'
2025-09-04 12:51:35.215 +05:00 [INF] Route matched with {action = "AssociateProduct", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.TeamDto]] AssociateProduct(System.Guid, TimeTraceOne.DTOs.AssociateTeamProductDto) on controller TimeTraceOne.Controllers.TeamsController (TimeTraceOne).
2025-09-04 12:51:35.236 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt], [t1].[TeamId], [t1].[ProductId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
    FROM [Teams] AS [t]
    WHERE [t].[Id] = @__teamId_0
) AS [t0]
LEFT JOIN [TeamProducts] AS [t1] ON [t0].[Id] = [t1].[TeamId]
ORDER BY [t0].[Id], [t1].[TeamId]
2025-09-04 12:51:35.255 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:35.266 +05:00 [INF] Executed action TimeTraceOne.Controllers.TeamsController.AssociateProduct (TimeTraceOne) in 47.6585ms
2025-09-04 12:51:35.268 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.TeamsController.AssociateProduct (TimeTraceOne)'
2025-09-04 12:51:35.270 +05:00 [INF] HTTP POST /api/teams/00000000-0000-0000-0000-000000000010/products responded 400 in 68.7661 ms
2025-09-04 12:51:35.281 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010/products - 400 null application/json; charset=utf-8 94.3603ms
2025-09-04 12:51:35.288 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010/departments - application/json 55
2025-09-04 12:51:35.302 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.TeamsController.AssociateDepartment (TimeTraceOne)'
2025-09-04 12:51:35.325 +05:00 [INF] Route matched with {action = "AssociateDepartment", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.TeamDto]] AssociateDepartment(System.Guid, TimeTraceOne.DTOs.AssociateTeamDepartmentDto) on controller TimeTraceOne.Controllers.TeamsController (TimeTraceOne).
2025-09-04 12:51:35.383 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt], [t1].[TeamId], [t1].[DepartmentId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
    FROM [Teams] AS [t]
    WHERE [t].[Id] = @__teamId_0
) AS [t0]
LEFT JOIN [TeamDepartments] AS [t1] ON [t0].[Id] = [t1].[TeamId]
ORDER BY [t0].[Id], [t1].[TeamId]
2025-09-04 12:51:35.410 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:35.420 +05:00 [INF] Executed action TimeTraceOne.Controllers.TeamsController.AssociateDepartment (TimeTraceOne) in 73.1799ms
2025-09-04 12:51:35.434 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.TeamsController.AssociateDepartment (TimeTraceOne)'
2025-09-04 12:51:35.443 +05:00 [INF] HTTP POST /api/teams/00000000-0000-0000-0000-000000000010/departments responded 400 in 141.4783 ms
2025-09-04 12:51:35.460 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/teams/00000000-0000-0000-0000-000000000010/departments - 400 null application/json; charset=utf-8 171.6945ms
2025-09-04 12:51:35.469 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/reports/users?startDate=2024-01-01&endDate=2024-01-31 - null null
2025-09-04 12:51:35.482 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ReportsController.GetUsersReport (TimeTraceOne)'
2025-09-04 12:51:35.491 +05:00 [INF] Route matched with {action = "GetUsersReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[TimeTraceOne.DTOs.UserReportDto]]] GetUsersReport(System.String, System.String) on controller TimeTraceOne.Controllers.ReportsController (TimeTraceOne).
2025-09-04 12:51:35.521 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
2025-09-04 12:51:35.551 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0 AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:35.583 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0 AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:35.617 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0 AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:35.652 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0 AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:35.682 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0 AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:35.717 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0 AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:35.797 +05:00 [INF] Executed DbCommand (63ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0 AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:35.832 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0 AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:35.867 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0 AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:35.900 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0 AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:35.928 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0 AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:35.955 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0 AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:35.979 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Collections.Generic.List`1[[TimeTraceOne.DTOs.UserReportDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:35.988 +05:00 [INF] Executed action TimeTraceOne.Controllers.ReportsController.GetUsersReport (TimeTraceOne) in 486.6924ms
2025-09-04 12:51:36.000 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ReportsController.GetUsersReport (TimeTraceOne)'
2025-09-04 12:51:36.006 +05:00 [INF] HTTP GET /api/reports/users responded 200 in 524.0060 ms
2025-09-04 12:51:36.018 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/reports/users?startDate=2024-01-01&endDate=2024-01-31 - 200 null application/json; charset=utf-8 549.2426ms
2025-09-04 12:51:36.045 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/reports/teams?startDate=2024-01-01&endDate=2024-01-31 - null null
2025-09-04 12:51:36.055 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ReportsController.GetTeamsReport (TimeTraceOne)'
2025-09-04 12:51:36.067 +05:00 [INF] Route matched with {action = "GetTeamsReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[TimeTraceOne.DTOs.TeamReportDto]]] GetTeamsReport(System.String, System.String) on controller TimeTraceOne.Controllers.ReportsController (TimeTraceOne).
2025-09-04 12:51:36.099 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
FROM [Teams] AS [t]
2025-09-04 12:51:36.171 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt], [t1].[TeamId], [t1].[UserId], [t1].[JoinedAt]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
    FROM [Teams] AS [t]
    WHERE [t].[Id] = @__teamId_0
) AS [t0]
LEFT JOIN [TeamMembers] AS [t1] ON [t0].[Id] = [t1].[TeamId]
ORDER BY [t0].[Id], [t1].[TeamId]
2025-09-04 12:51:36.251 +05:00 [INF] Executed DbCommand (33ms) [Parameters=[@__memberIds_0='?' (Size = 4000), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] IN (
    SELECT [m].[value]
    FROM OPENJSON(@__memberIds_0) WITH ([value] uniqueidentifier '$') AS [m]
) AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:36.311 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt], [t1].[TeamId], [t1].[UserId], [t1].[JoinedAt], [t1].[Id], [t1].[AvailableHours], [t1].[CreatedAt], [t1].[Email], [t1].[IsActive], [t1].[JobTitle], [t1].[Name], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
    FROM [Teams] AS [t]
    WHERE [t].[Id] = @__teamId_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[TeamId], [t2].[UserId], [t2].[JoinedAt], [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
    FROM [TeamMembers] AS [t2]
    INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TeamId]
ORDER BY [t0].[Id], [t1].[TeamId], [t1].[UserId]
2025-09-04 12:51:36.383 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ProjectId]
FROM [TeamProjects] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2025-09-04 12:51:36.402 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Collections.Generic.List`1[[TimeTraceOne.DTOs.TeamReportDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:36.417 +05:00 [INF] Executed action TimeTraceOne.Controllers.ReportsController.GetTeamsReport (TimeTraceOne) in 336.2377ms
2025-09-04 12:51:36.428 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ReportsController.GetTeamsReport (TimeTraceOne)'
2025-09-04 12:51:36.436 +05:00 [INF] HTTP GET /api/reports/teams responded 200 in 381.1948 ms
2025-09-04 12:51:36.450 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/reports/teams?startDate=2024-01-01&endDate=2024-01-31 - 200 null application/json; charset=utf-8 404.8796ms
2025-09-04 12:51:36.483 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/reports/system?startDate=2024-01-01&endDate=2024-01-31 - null null
2025-09-04 12:51:36.498 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ReportsController.GetSystemOverview (TimeTraceOne)'
2025-09-04 12:51:36.504 +05:00 [INF] Route matched with {action = "GetSystemOverview", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.SystemOverviewDto]] GetSystemOverview(System.String, System.String) on controller TimeTraceOne.Controllers.ReportsController (TimeTraceOne).
2025-09-04 12:51:36.533 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-09-04 12:51:36.603 +05:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsActive] = CAST(1 AS bit)
2025-09-04 12:51:36.622 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__start_0='?' (DbType = DateTime2), @__end_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAt] >= @__start_0 AND [u].[CreatedAt] <= @__end_1
2025-09-04 12:51:36.637 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Projects] AS [p]
2025-09-04 12:51:36.669 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Projects] AS [p]
WHERE [p].[Status] = N'Active'
2025-09-04 12:51:36.701 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Projects] AS [p]
WHERE [p].[Status] = N'Completed'
2025-09-04 12:51:36.732 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-09-04 12:51:36.764 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Departments] AS [d]
2025-09-04 12:51:36.786 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teams] AS [t]
2025-09-04 12:51:36.815 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__start_0='?' (DbType = DateTime2), @__end_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[Date] >= @__start_0 AND [t].[Date] <= @__end_1
2025-09-04 12:51:36.834 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.SystemOverviewDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:36.840 +05:00 [INF] Executed action TimeTraceOne.Controllers.ReportsController.GetSystemOverview (TimeTraceOne) in 320.6164ms
2025-09-04 12:51:36.850 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ReportsController.GetSystemOverview (TimeTraceOne)'
2025-09-04 12:51:36.854 +05:00 [INF] HTTP GET /api/reports/system responded 200 in 356.5810 ms
2025-09-04 12:51:36.866 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/reports/system?startDate=2024-01-01&endDate=2024-01-31 - 200 null application/json; charset=utf-8 382.8549ms
2025-09-04 12:51:36.885 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/reports/departments/00000000-0000-0000-0000-000000000005?startDate=2024-01-01&endDate=2024-01-31 - null null
2025-09-04 12:51:36.901 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ReportsController.GetDepartmentPerformance (TimeTraceOne)'
2025-09-04 12:51:36.926 +05:00 [INF] Route matched with {action = "GetDepartmentPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.DepartmentPerformanceDto]] GetDepartmentPerformance(System.Guid, System.String, System.String) on controller TimeTraceOne.Controllers.ReportsController (TimeTraceOne).
2025-09-04 12:51:36.966 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[CreatedAt], [d].[CreatedBy], [d].[DepartmentDescription], [d].[IsBillable], [d].[Name], [d].[Status], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__get_Item_0
2025-09-04 12:51:37.000 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__departmentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
FROM [Teams] AS [t]
WHERE [t].[DepartmentId] = @__departmentId_0
2025-09-04 12:51:37.030 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt], [t1].[TeamId], [t1].[UserId], [t1].[JoinedAt]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
    FROM [Teams] AS [t]
    WHERE [t].[Id] = @__teamId_0
) AS [t0]
LEFT JOIN [TeamMembers] AS [t1] ON [t0].[Id] = [t1].[TeamId]
ORDER BY [t0].[Id], [t1].[TeamId]
2025-09-04 12:51:37.062 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__memberIds_0='?' (Size = 4000), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] IN (
    SELECT [m].[value]
    FROM OPENJSON(@__memberIds_0) WITH ([value] uniqueidentifier '$') AS [m]
) AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:37.083 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DepartmentId], [t0].[Description], [t0].[LeaderId], [t0].[Name], [t0].[UpdatedAt], [t1].[TeamId], [t1].[UserId], [t1].[JoinedAt], [t1].[Id], [t1].[AvailableHours], [t1].[CreatedAt], [t1].[Email], [t1].[IsActive], [t1].[JobTitle], [t1].[Name], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
    FROM [Teams] AS [t]
    WHERE [t].[Id] = @__teamId_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[TeamId], [t2].[UserId], [t2].[JoinedAt], [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
    FROM [TeamMembers] AS [t2]
    INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TeamId]
ORDER BY [t0].[Id], [t1].[TeamId], [t1].[UserId]
2025-09-04 12:51:37.097 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__teamId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ProjectId]
FROM [TeamProjects] AS [t]
WHERE [t].[TeamId] = @__teamId_0
2025-09-04 12:51:37.102 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.DepartmentPerformanceDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:37.107 +05:00 [INF] Executed action TimeTraceOne.Controllers.ReportsController.GetDepartmentPerformance (TimeTraceOne) in 156.8247ms
2025-09-04 12:51:37.119 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ReportsController.GetDepartmentPerformance (TimeTraceOne)'
2025-09-04 12:51:37.130 +05:00 [INF] HTTP GET /api/reports/departments/00000000-0000-0000-0000-000000000005 responded 200 in 229.4227 ms
2025-09-04 12:51:37.148 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/reports/departments/00000000-0000-0000-0000-000000000005?startDate=2024-01-01&endDate=2024-01-31 - 200 null application/json; charset=utf-8 263.2601ms
2025-09-04 12:51:37.167 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/reports/projects/00000000-0000-0000-0000-000000000008?startDate=2024-01-01&endDate=2024-01-31 - null null
2025-09-04 12:51:37.193 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ReportsController.GetProjectPerformance (TimeTraceOne)'
2025-09-04 12:51:37.218 +05:00 [INF] Route matched with {action = "GetProjectPerformance", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ProjectPerformanceReportDto]] GetProjectPerformance(System.Guid, System.String, System.String) on controller TimeTraceOne.Controllers.ReportsController (TimeTraceOne).
2025-09-04 12:51:37.256 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[ClientEmail], [p].[ClientName], [p].[CreatedAt], [p].[CreatedBy], [p].[Description], [p].[IsBillable], [p].[Name], [p].[ProjectType], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
WHERE [p].[Id] = @__get_Item_0
2025-09-04 12:51:37.282 +05:00 [ERR] Error getting project performance report for "00000000-0000-0000-0000-000000000008"
System.InvalidOperationException: Project not found
   at TimeTraceOne.Services.ReportService.GetProjectPerformanceByIdAsync(Guid projectId, String startDate, String endDate) in D:\project\TimeTraceOne\Services\ReportService.cs:line 577
   at TimeTraceOne.Controllers.ReportsController.GetProjectPerformance(Guid projectId, String startDate, String endDate) in D:\project\TimeTraceOne\Controllers\ReportsController.cs:line 262
2025-09-04 12:51:37.298 +05:00 [INF] Executing ObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:37.304 +05:00 [INF] Executed action TimeTraceOne.Controllers.ReportsController.GetProjectPerformance (TimeTraceOne) in 65.9837ms
2025-09-04 12:51:37.315 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ReportsController.GetProjectPerformance (TimeTraceOne)'
2025-09-04 12:51:37.320 +05:00 [ERR] HTTP GET /api/reports/projects/00000000-0000-0000-0000-000000000008 responded 500 in 129.8070 ms
2025-09-04 12:51:37.333 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/reports/projects/00000000-0000-0000-0000-000000000008?startDate=2024-01-01&endDate=2024-01-31 - 500 null application/json; charset=utf-8 166.6311ms
2025-09-04 12:51:37.344 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/reports/export/csv?startDate=2024-01-01&endDate=2024-01-31&type=users - null null
2025-09-04 12:51:37.351 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ReportsController.ExportCsv (TimeTraceOne)'
2025-09-04 12:51:37.357 +05:00 [INF] Route matched with {action = "ExportCsv", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportCsv(System.String, System.String, System.String) on controller TimeTraceOne.Controllers.ReportsController (TimeTraceOne).
2025-09-04 12:51:37.432 +05:00 [INF] Executing FileContentResult, sending file with download name 'report_users_20250904.csv' ...
2025-09-04 12:51:37.465 +05:00 [INF] Executed action TimeTraceOne.Controllers.ReportsController.ExportCsv (TimeTraceOne) in 98.371ms
2025-09-04 12:51:37.482 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ReportsController.ExportCsv (TimeTraceOne)'
2025-09-04 12:51:37.496 +05:00 [INF] HTTP GET /api/reports/export/csv responded 200 in 144.5213 ms
2025-09-04 12:51:37.516 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/reports/export/csv?startDate=2024-01-01&endDate=2024-01-31&type=users - 200 101 text/csv 171.9355ms
2025-09-04 12:51:37.544 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/reports/export/pdf?startDate=2024-01-01&endDate=2024-01-31&type=users - null null
2025-09-04 12:51:37.569 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ReportsController.ExportPdf (TimeTraceOne)'
2025-09-04 12:51:37.586 +05:00 [INF] Route matched with {action = "ExportPdf", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportPdf(System.String, System.String, System.String) on controller TimeTraceOne.Controllers.ReportsController (TimeTraceOne).
2025-09-04 12:51:37.650 +05:00 [INF] Executing FileContentResult, sending file with download name 'report_users_20250904.pdf' ...
2025-09-04 12:51:37.668 +05:00 [INF] Executed action TimeTraceOne.Controllers.ReportsController.ExportPdf (TimeTraceOne) in 68.468ms
2025-09-04 12:51:37.686 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ReportsController.ExportPdf (TimeTraceOne)'
2025-09-04 12:51:37.702 +05:00 [INF] HTTP GET /api/reports/export/pdf responded 200 in 134.0820 ms
2025-09-04 12:51:37.724 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/reports/export/pdf?startDate=2024-01-01&endDate=2024-01-31&type=users - 200 18 application/pdf 179.6664ms
2025-09-04 12:51:37.754 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/reports/search?query=development&startDate=2024-01-01&endDate=2024-01-31 - null null
2025-09-04 12:51:37.778 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ReportsController.SearchTimeEntries (TimeTraceOne)'
2025-09-04 12:51:37.791 +05:00 [INF] Route matched with {action = "SearchTimeEntries", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.TimeEntrySearchResultDto]] SearchTimeEntries(System.String, System.String, System.String) on controller TimeTraceOne.Controllers.ReportsController (TimeTraceOne).
2025-09-04 12:51:37.833 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__query_0_rewritten='?' (Size = 1000), @__query_0_rewritten_1='?' (Size = 4000), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId], [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [TimeEntries] AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
WHERE ([t].[Task] LIKE @__query_0_rewritten ESCAPE N'\' OR [t].[ProjectDetails] LIKE @__query_0_rewritten_1 ESCAPE N'\') AND [t].[Date] >= @__start_1 AND [t].[Date] <= @__end_2
2025-09-04 12:51:37.850 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.TimeEntrySearchResultDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:37.867 +05:00 [INF] Executed action TimeTraceOne.Controllers.ReportsController.SearchTimeEntries (TimeTraceOne) in 64.3081ms
2025-09-04 12:51:37.883 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ReportsController.SearchTimeEntries (TimeTraceOne)'
2025-09-04 12:51:37.892 +05:00 [INF] HTTP GET /api/reports/search responded 200 in 115.9099 ms
2025-09-04 12:51:37.909 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/reports/search?query=development&startDate=2024-01-01&endDate=2024-01-31 - 200 null application/json; charset=utf-8 154.7178ms
2025-09-04 12:51:37.935 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/reports/departments/00000000-0000-0000-0000-000000000005/top-projects?startDate=2024-01-01&endDate=2024-01-31 - null null
2025-09-04 12:51:37.957 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ReportsController.GetTopProjectsForDepartment (TimeTraceOne)'
2025-09-04 12:51:37.970 +05:00 [INF] Route matched with {action = "GetTopProjectsForDepartment", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[TimeTraceOne.DTOs.ProjectPerformanceReportDto]]] GetTopProjectsForDepartment(System.Guid, System.String, System.String) on controller TimeTraceOne.Controllers.ReportsController (TimeTraceOne).
2025-09-04 12:51:38.001 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__departmentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DepartmentId], [t].[Description], [t].[LeaderId], [t].[Name], [t].[UpdatedAt]
FROM [Teams] AS [t]
WHERE [t].[DepartmentId] = @__departmentId_0
2025-09-04 12:51:38.018 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__team_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ProjectId]
FROM [TeamProjects] AS [t]
WHERE [t].[TeamId] = @__team_Id_0
2025-09-04 12:51:38.029 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Collections.Generic.List`1[[TimeTraceOne.DTOs.ProjectPerformanceReportDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:38.035 +05:00 [INF] Executed action TimeTraceOne.Controllers.ReportsController.GetTopProjectsForDepartment (TimeTraceOne) in 48.1438ms
2025-09-04 12:51:38.044 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ReportsController.GetTopProjectsForDepartment (TimeTraceOne)'
2025-09-04 12:51:38.052 +05:00 [INF] HTTP GET /api/reports/departments/00000000-0000-0000-0000-000000000005/top-projects responded 200 in 97.5489 ms
2025-09-04 12:51:38.065 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/reports/departments/00000000-0000-0000-0000-000000000005/top-projects?startDate=2024-01-01&endDate=2024-01-31 - 200 null application/json; charset=utf-8 130.3082ms
2025-09-04 12:51:38.087 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/notifications - null null
2025-09-04 12:51:38.101 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.NotificationsController.GetNotifications (TimeTraceOne)'
2025-09-04 12:51:38.139 +05:00 [INF] Route matched with {action = "GetNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.NotificationListResponseDto]] GetNotifications(TimeTraceOne.DTOs.NotificationFilterDto) on controller TimeTraceOne.Controllers.NotificationsController (TimeTraceOne).
2025-09-04 12:51:38.181 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0
2025-09-04 12:51:38.213 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit)
2025-09-04 12:51:38.252 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsRead], [t].[Message], [t].[RelatedEntryId], [t].[Title], [t].[Type], [t].[UpdatedAt], [t].[UserId], [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [t0].[Id], [t0].[ActualHours], [t0].[AvailableHours], [t0].[BillableHours], [t0].[CreatedAt], [t0].[Date], [t0].[IsBillable], [t0].[ProjectDetails], [t0].[Status], [t0].[Task], [t0].[TotalHours], [t0].[UpdatedAt], [t0].[UserId]
FROM (
    SELECT [n].[Id], [n].[CreatedAt], [n].[IsRead], [n].[Message], [n].[RelatedEntryId], [n].[Title], [n].[Type], [n].[UpdatedAt], [n].[UserId]
    FROM [Notifications] AS [n]
    WHERE [n].[UserId] = @__userId_0
    ORDER BY [n].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN [TimeEntries] AS [t0] ON [t].[RelatedEntryId] = [t0].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-09-04 12:51:38.317 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.NotificationListResponseDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:38.333 +05:00 [INF] Executed action TimeTraceOne.Controllers.NotificationsController.GetNotifications (TimeTraceOne) in 171.5549ms
2025-09-04 12:51:38.342 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.NotificationsController.GetNotifications (TimeTraceOne)'
2025-09-04 12:51:38.352 +05:00 [INF] HTTP GET /api/notifications responded 200 in 251.1159 ms
2025-09-04 12:51:38.368 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/notifications - 200 null application/json; charset=utf-8 281.0746ms
2025-09-04 12:51:38.401 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/notifications/00000000-0000-0000-0000-000000000014 - null null
2025-09-04 12:51:38.422 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.NotificationsController.GetNotification (TimeTraceOne)'
2025-09-04 12:51:38.436 +05:00 [INF] Route matched with {action = "GetNotification", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.NotificationDto]] GetNotification(System.Guid) on controller TimeTraceOne.Controllers.NotificationsController (TimeTraceOne).
2025-09-04 12:51:38.549 +05:00 [INF] Executed DbCommand (76ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[CreatedAt], [n].[IsRead], [n].[Message], [n].[RelatedEntryId], [n].[Title], [n].[Type], [n].[UpdatedAt], [n].[UserId], [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [Notifications] AS [n]
INNER JOIN [Users] AS [u] ON [n].[UserId] = [u].[Id]
LEFT JOIN [TimeEntries] AS [t] ON [n].[RelatedEntryId] = [t].[Id]
WHERE [n].[Id] = @__id_0
2025-09-04 12:51:38.577 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.NotificationDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:38.596 +05:00 [INF] Executed action TimeTraceOne.Controllers.NotificationsController.GetNotification (TimeTraceOne) in 140.4102ms
2025-09-04 12:51:38.613 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.NotificationsController.GetNotification (TimeTraceOne)'
2025-09-04 12:51:38.626 +05:00 [INF] HTTP GET /api/notifications/00000000-0000-0000-0000-000000000014 responded 200 in 204.9021 ms
2025-09-04 12:51:38.644 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/notifications/00000000-0000-0000-0000-000000000014 - 200 null application/json; charset=utf-8 243.8145ms
2025-09-04 12:51:38.684 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/notifications - application/json 191
2025-09-04 12:51:38.703 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.NotificationsController.CreateNotification (TimeTraceOne)'
2025-09-04 12:51:38.721 +05:00 [INF] Route matched with {action = "CreateNotification", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.NotificationDto]] CreateNotification(TimeTraceOne.DTOs.CreateNotificationDto) on controller TimeTraceOne.Controllers.NotificationsController (TimeTraceOne).
2025-09-04 12:51:38.752 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-04 12:51:38.759 +05:00 [INF] Executed action TimeTraceOne.Controllers.NotificationsController.CreateNotification (TimeTraceOne) in 20.4519ms
2025-09-04 12:51:38.767 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.NotificationsController.CreateNotification (TimeTraceOne)'
2025-09-04 12:51:38.770 +05:00 [INF] HTTP POST /api/notifications responded 400 in 67.3713 ms
2025-09-04 12:51:38.779 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/notifications - 400 null application/problem+json; charset=utf-8 94.4747ms
2025-09-04 12:51:38.787 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5155/api/notifications/00000000-0000-0000-0000-000000000014/read - null 0
2025-09-04 12:51:38.800 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.NotificationsController.MarkAsRead (TimeTraceOne)'
2025-09-04 12:51:38.811 +05:00 [INF] Route matched with {action = "MarkAsRead", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.NotificationDto]] MarkAsRead(System.Guid) on controller TimeTraceOne.Controllers.NotificationsController (TimeTraceOne).
2025-09-04 12:51:38.832 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[CreatedAt], [n].[IsRead], [n].[Message], [n].[RelatedEntryId], [n].[Title], [n].[Type], [n].[UpdatedAt], [n].[UserId], [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [Notifications] AS [n]
INNER JOIN [Users] AS [u] ON [n].[UserId] = [u].[Id]
LEFT JOIN [TimeEntries] AS [t] ON [n].[RelatedEntryId] = [t].[Id]
WHERE [n].[Id] = @__id_0
2025-09-04 12:51:38.933 +05:00 [INF] Executed DbCommand (66ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notifications] SET [IsRead] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-04 12:51:38.953 +05:00 [INF] Marked notification "00000000-0000-0000-0000-000000000014" as read
2025-09-04 12:51:38.970 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[CreatedAt], [n].[IsRead], [n].[Message], [n].[RelatedEntryId], [n].[Title], [n].[Type], [n].[UpdatedAt], [n].[UserId], [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [Notifications] AS [n]
INNER JOIN [Users] AS [u] ON [n].[UserId] = [u].[Id]
LEFT JOIN [TimeEntries] AS [t] ON [n].[RelatedEntryId] = [t].[Id]
WHERE [n].[Id] = @__id_0
2025-09-04 12:51:39.001 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.NotificationDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:39.016 +05:00 [INF] Executed action TimeTraceOne.Controllers.NotificationsController.MarkAsRead (TimeTraceOne) in 195.902ms
2025-09-04 12:51:39.028 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.NotificationsController.MarkAsRead (TimeTraceOne)'
2025-09-04 12:51:39.037 +05:00 [INF] HTTP PUT /api/notifications/00000000-0000-0000-0000-000000000014/read responded 200 in 237.0753 ms
2025-09-04 12:51:39.052 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5155/api/notifications/00000000-0000-0000-0000-000000000014/read - 200 null application/json; charset=utf-8 264.4638ms
2025-09-04 12:51:39.093 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5155/api/notifications/read-all - null 0
2025-09-04 12:51:39.118 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.NotificationsController.MarkAllAsRead (TimeTraceOne)'
2025-09-04 12:51:39.134 +05:00 [INF] Route matched with {action = "MarkAllAsRead", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.MarkAllNotificationsReadDto]] MarkAllAsRead() on controller TimeTraceOne.Controllers.NotificationsController (TimeTraceOne).
2025-09-04 12:51:39.230 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [n]
SET [n].[UpdatedAt] = GETUTCDATE(),
    [n].[IsRead] = CAST(1 AS bit)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit)
2025-09-04 12:51:39.236 +05:00 [INF] Marked 0 notifications as read for user "00000000-0000-0000-0000-000000000001"
2025-09-04 12:51:39.243 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.MarkAllNotificationsReadDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:39.250 +05:00 [INF] Executed action TimeTraceOne.Controllers.NotificationsController.MarkAllAsRead (TimeTraceOne) in 107.0064ms
2025-09-04 12:51:39.261 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.NotificationsController.MarkAllAsRead (TimeTraceOne)'
2025-09-04 12:51:39.271 +05:00 [INF] HTTP PUT /api/notifications/read-all responded 200 in 154.0566 ms
2025-09-04 12:51:39.289 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5155/api/notifications/read-all - 200 null application/json; charset=utf-8 195.6106ms
2025-09-04 12:51:39.320 +05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5155/api/notifications/00000000-0000-0000-0000-000000000014 - null 0
2025-09-04 12:51:39.344 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.NotificationsController.DeleteNotification (TimeTraceOne)'
2025-09-04 12:51:39.356 +05:00 [INF] Route matched with {action = "DeleteNotification", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteNotification(System.Guid) on controller TimeTraceOne.Controllers.NotificationsController (TimeTraceOne).
2025-09-04 12:51:39.402 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[CreatedAt], [n].[IsRead], [n].[Message], [n].[RelatedEntryId], [n].[Title], [n].[Type], [n].[UpdatedAt], [n].[UserId], [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [t].[Id], [t].[ActualHours], [t].[AvailableHours], [t].[BillableHours], [t].[CreatedAt], [t].[Date], [t].[IsBillable], [t].[ProjectDetails], [t].[Status], [t].[Task], [t].[TotalHours], [t].[UpdatedAt], [t].[UserId]
FROM [Notifications] AS [n]
INNER JOIN [Users] AS [u] ON [n].[UserId] = [u].[Id]
LEFT JOIN [TimeEntries] AS [t] ON [n].[RelatedEntryId] = [t].[Id]
WHERE [n].[Id] = @__id_0
2025-09-04 12:51:39.485 +05:00 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Notifications]
OUTPUT 1
WHERE [Id] = @p0;
2025-09-04 12:51:39.503 +05:00 [INF] Deleted notification "00000000-0000-0000-0000-000000000014"
2025-09-04 12:51:39.514 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:39.529 +05:00 [INF] Executed action TimeTraceOne.Controllers.NotificationsController.DeleteNotification (TimeTraceOne) in 146.1564ms
2025-09-04 12:51:39.541 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.NotificationsController.DeleteNotification (TimeTraceOne)'
2025-09-04 12:51:39.554 +05:00 [INF] HTTP DELETE /api/notifications/00000000-0000-0000-0000-000000000014 responded 200 in 211.2674 ms
2025-09-04 12:51:39.569 +05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5155/api/notifications/00000000-0000-0000-0000-000000000014 - 200 null application/json; charset=utf-8 248.8968ms
2025-09-04 12:51:39.603 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/validation/time-entry - application/json 138
2025-09-04 12:51:39.620 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ValidationController.ValidateTimeEntry (TimeTraceOne)'
2025-09-04 12:51:39.641 +05:00 [INF] Route matched with {action = "ValidateTimeEntry", controller = "Validation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.TimeEntryValidationResultDto]] ValidateTimeEntry(TimeTraceOne.DTOs.TimeEntryValidationDto) on controller TimeTraceOne.Controllers.ValidationController (TimeTraceOne).
2025-09-04 12:51:39.699 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__dto_UserId_0='?' (DbType = Guid), @__targetDate_Date_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[ActualHours]), 0.0)
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__dto_UserId_0 AND CONVERT(date, [t].[Date]) = @__targetDate_Date_1
2025-09-04 12:51:39.714 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_UserId_0='?' (DbType = Guid), @__weekStart_1='?' (DbType = DateTime2), @__weekEnd_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[ActualHours]), 0.0)
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__dto_UserId_0 AND [t].[Date] >= @__weekStart_1 AND [t].[Date] <= @__weekEnd_2
2025-09-04 12:51:39.731 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_UserId_0='?' (DbType = Guid), @__targetDate_Date_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TimeEntries] AS [t]
        WHERE [t].[UserId] = @__dto_UserId_0 AND CONVERT(date, [t].[Date]) = @__targetDate_Date_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-04 12:51:39.738 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.TimeEntryValidationResultDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:39.750 +05:00 [INF] Executed action TimeTraceOne.Controllers.ValidationController.ValidateTimeEntry (TimeTraceOne) in 89.0321ms
2025-09-04 12:51:39.760 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ValidationController.ValidateTimeEntry (TimeTraceOne)'
2025-09-04 12:51:39.768 +05:00 [INF] HTTP POST /api/validation/time-entry responded 200 in 148.8200 ms
2025-09-04 12:51:39.782 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/validation/time-entry - 200 null application/json; charset=utf-8 179.0103ms
2025-09-04 12:51:39.801 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/validation/available-hours/00000000-0000-0000-0000-000000000001?date=2024-01-01 - null null
2025-09-04 12:51:39.813 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ValidationController.GetUserAvailableHours (TimeTraceOne)'
2025-09-04 12:51:39.824 +05:00 [INF] Route matched with {action = "GetUserAvailableHours", controller = "Validation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.UserAvailableHoursDto]] GetUserAvailableHours(System.Guid, System.String) on controller TimeTraceOne.Controllers.ValidationController (TimeTraceOne).
2025-09-04 12:51:39.846 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0
2025-09-04 12:51:39.884 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__targetDate_Date_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[ActualHours]), 0.0)
FROM [TimeEntries] AS [t]
WHERE [t].[UserId] = @__userId_0 AND CONVERT(date, [t].[Date]) = @__targetDate_Date_1
2025-09-04 12:51:39.910 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.UserAvailableHoursDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:51:39.927 +05:00 [INF] Executed action TimeTraceOne.Controllers.ValidationController.GetUserAvailableHours (TimeTraceOne) in 91.7416ms
2025-09-04 12:51:39.943 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ValidationController.GetUserAvailableHours (TimeTraceOne)'
2025-09-04 12:51:39.956 +05:00 [INF] HTTP GET /api/validation/available-hours/00000000-0000-0000-0000-000000000001 responded 200 in 145.3767 ms
2025-09-04 12:51:39.973 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/validation/available-hours/00000000-0000-0000-0000-000000000001?date=2024-01-01 - 200 null application/json; charset=utf-8 171.7204ms
2025-09-04 12:51:40.004 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/validation/user-access/00000000-0000-0000-0000-000000000001 - null null
2025-09-04 12:51:40.017 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ValidationController.ValidateUserAccess (TimeTraceOne)'
2025-09-04 12:51:40.021 +05:00 [INF] Route matched with {action = "ValidateUserAccess", controller = "Validation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ValidateUserAccess(System.Guid) on controller TimeTraceOne.Controllers.ValidationController (TimeTraceOne).
2025-09-04 12:51:40.052 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0
2025-09-04 12:51:40.066 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:40.077 +05:00 [INF] Executed action TimeTraceOne.Controllers.ValidationController.ValidateUserAccess (TimeTraceOne) in 36.0681ms
2025-09-04 12:51:40.087 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ValidationController.ValidateUserAccess (TimeTraceOne)'
2025-09-04 12:51:40.100 +05:00 [INF] HTTP GET /api/validation/user-access/00000000-0000-0000-0000-000000000001 responded 200 in 83.5112 ms
2025-09-04 12:51:40.116 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/validation/user-access/00000000-0000-0000-0000-000000000001 - 200 null application/json; charset=utf-8 112.4486ms
2025-09-04 12:51:40.134 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/validation/team-access/00000000-0000-0000-0000-000000000001 - null null
2025-09-04 12:51:40.152 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ValidationController.ValidateTeamAccess (TimeTraceOne)'
2025-09-04 12:51:40.159 +05:00 [INF] Route matched with {action = "ValidateTeamAccess", controller = "Validation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ValidateTeamAccess(System.Guid) on controller TimeTraceOne.Controllers.ValidationController (TimeTraceOne).
2025-09-04 12:51:40.170 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0
2025-09-04 12:51:40.188 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:40.203 +05:00 [INF] Executed action TimeTraceOne.Controllers.ValidationController.ValidateTeamAccess (TimeTraceOne) in 35.8155ms
2025-09-04 12:51:40.217 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ValidationController.ValidateTeamAccess (TimeTraceOne)'
2025-09-04 12:51:40.227 +05:00 [INF] HTTP GET /api/validation/team-access/00000000-0000-0000-0000-000000000001 responded 200 in 75.0221 ms
2025-09-04 12:51:40.243 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/validation/team-access/00000000-0000-0000-0000-000000000001 - 200 null application/json; charset=utf-8 108.0576ms
2025-09-04 12:51:40.279 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/validation/project-access/00000000-0000-0000-0000-000000000001 - null null
2025-09-04 12:51:40.303 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.ValidationController.ValidateProjectAccess (TimeTraceOne)'
2025-09-04 12:51:40.318 +05:00 [INF] Route matched with {action = "ValidateProjectAccess", controller = "Validation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ValidateProjectAccess(System.Guid) on controller TimeTraceOne.Controllers.ValidationController (TimeTraceOne).
2025-09-04 12:51:40.350 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0
2025-09-04 12:51:40.370 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-04 12:51:40.384 +05:00 [INF] Executed action TimeTraceOne.Controllers.ValidationController.ValidateProjectAccess (TimeTraceOne) in 47.6083ms
2025-09-04 12:51:40.395 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.ValidationController.ValidateProjectAccess (TimeTraceOne)'
2025-09-04 12:51:40.404 +05:00 [INF] HTTP GET /api/validation/project-access/00000000-0000-0000-0000-000000000001 responded 200 in 102.1762 ms
2025-09-04 12:51:40.420 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/validation/project-access/00000000-0000-0000-0000-000000000001 - 200 null application/json; charset=utf-8 140.9035ms
2025-09-04 12:52:52.610 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5155/api/auth/login - application/json 53
2025-09-04 12:52:52.629 +05:00 [INF] Executing endpoint 'TimeTraceOne.Controllers.AuthController.Login (TimeTraceOne)'
2025-09-04 12:52:52.632 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TimeTraceOne.DTOs.ApiResponse`1[TimeTraceOne.DTOs.LoginResponseDto]]] Login(TimeTraceOne.DTOs.LoginRequestDto) on controller TimeTraceOne.Controllers.AuthController (TimeTraceOne).
2025-09-04 12:52:52.648 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvailableHours], [u].[CreatedAt], [u].[Email], [u].[IsActive], [u].[JobTitle], [u].[Name], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0 AND [u].[IsActive] = CAST(1 AS bit)
2025-09-04 12:52:52.790 +05:00 [INF] User admin@timeflow.com logged in successfully
2025-09-04 12:52:52.801 +05:00 [INF] Executing OkObjectResult, writing value of type 'TimeTraceOne.DTOs.ApiResponse`1[[TimeTraceOne.DTOs.LoginResponseDto, TimeTraceOne, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-04 12:52:52.815 +05:00 [INF] Executed action TimeTraceOne.Controllers.AuthController.Login (TimeTraceOne) in 171.7468ms
2025-09-04 12:52:52.830 +05:00 [INF] Executed endpoint 'TimeTraceOne.Controllers.AuthController.Login (TimeTraceOne)'
2025-09-04 12:52:52.837 +05:00 [INF] HTTP POST /api/auth/login responded 200 in 207.9054 ms
2025-09-04 12:52:52.849 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5155/api/auth/login - 200 null application/json; charset=utf-8 238.6355ms
2025-09-04 12:52:52.866 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5155/api/time-entries - null null
2025-09-04 12:52:52.883 +05:00 [INF] HTTP GET /api/time-entries responded 404 in 1.1397 ms
2025-09-04 12:52:52.894 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5155/api/time-entries - 404 0 null 27.7209ms
2025-09-04 12:52:52.916 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5155/api/time-entries, Response status code: 404
